(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["archive"],{"0b5a":function(e,t,r){"use strict";(function(e){r("4de4"),r("4160"),r("c975"),r("a434"),r("a9e3"),r("b64b"),r("d3b7"),r("ac1f"),r("25f0"),r("5319"),r("841c"),r("159b");var i=r("5530"),n=(r("96cf"),r("1da1")),a=r("2f62"),o=r("5308"),s=r("8115");t["a"]={name:"Archive",components:{Comments:s["a"]},props:{scrolled:Number,bgHeight:Number},data:function(){return{password:null,readTime:0,notification:!1,notificationVisible:!1,notificationMsg:"",notificationType:"",unlocked:null,showToc:!1,tocs:[],tocCurrent:null,likeNum:0,liked:!1,commentNum:0}},fetch:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,i,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.store,i=t.route,n=i.matched[0].props.default.isImplicit,a=n?i.path.replace(/^\/pages\/?/,""):i.params.slug,e.next=5,r.dispatch("archive/fetchArchiveTarget",{isImplicit:n,sourceOrSlug:a});case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),beforeRouteUpdate:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,i){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.$options.fetch,!n){e.next=13;break}return e.prev=2,this.$data.search="",e.next=6,n({store:this.$store,route:t});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),i(e.t0);case 11:e.next=14;break;case 13:i();case 14:case"end":return e.stop()}}),e,this,[[2,8]])})));function t(t,r,i){return e.apply(this,arguments)}return t}(),created:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,document.title=this.target.title+" - "+t.$store.state.global.hexoConfig.site.title,t.target.locked?(r=localStorage.unlockedArchiveList?JSON.parse(localStorage.unlockedArchiveList):[],r.forEach(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.slug==t.target.slug&&r.password==t.target.password&&(t.unlocked=!0,t.$store.dispatch("archive/switchArchiveLockedStatus"),i=localStorage.liked?JSON.parse(localStorage.liked):[],n=i.filter((function(e){return e.slug==t.target.slug&&e.title==t.target.title})).length,0!==n&&(t.liked=!t.liked));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):(i=localStorage.liked?JSON.parse(localStorage.liked):[],a=i.filter((function(e){return e.slug==t.target.slug&&e.title==t.target.title})).length,0!==a&&(t.liked=!t.liked)),e.next=5,t.$axios.get("https://api.aim.moe/Common/Counter/Hexo",{params:{type:"like",title:t.target.title,url:(-1==this.$store.state.global.hexoConfig.url.url.indexOf("/")?t.$store.state.global.hexoConfig.url.url:t.$store.state.global.hexoConfig.url.url+"/")+t.target.slug}});case 5:o=e.sent,t.likeNum=o.data.data.like;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),beforeMount:function(){this.createMathJax()},mounted:function(){var e=this;e.$nextTick((function(){document.getElementById("postContent")&&(e.setContent(),window.MathJax&&window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub]))}))},computed:Object(i["a"])({},Object(a["b"])({dateFormat:function(e){return e.global.hexoConfig.dateTimeFormat.date_format},timeFormat:function(e){return e.global.hexoConfig.dateTimeFormat.time_format},disqusOptions:function(e){return e.global.themeConfig.disqus},target:function(e){return e.archive.target}})),methods:{atob:function(t){return e.from(t,"base64").toString("utf8")},btoa:function(t){return e.from(t).toString("base64")},setCommentLen:function(e){this.commentNum=e},createMathJax:function(){window.MathJax||function(){var e=document.createElement("script");e.src="https://cdnjs.aim.moe/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS-MML_HTMLorMML",e.async=!0,document.head.appendChild(e)}(),window.MathJax&&window.MathJax.Hub.Config({showProcessingMessages:!1,messageStyle:"none",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["[","]"]],processEscapes:!0,processEnvironments:!0,skipTags:["script","noscript","style","textarea","pre"],TeX:{equationNumbers:{autoNumber:"AMS"},extensions:["AMSmath.js","AMSsymbols.js"]}}})},verification:function(){var e=this;if(this.password){var t=this.$crypto.createHmac("sha256","🎉").update(this.$crypto.createHash("md5").update(this.$crypto.createHash("md5").update(this.$crypto.createHash("md5").update(this.password+"(/ω＼)").digest("hex")+"( ´▽｀)").digest("hex")+"o(^▽^)o").digest("hex")).digest("hex");if(t==this.target.password){"string"!==typeof localStorage.unlockedArchiveList&&(localStorage.unlockedArchiveList=JSON.stringify([]));var r=JSON.parse(localStorage.unlockedArchiveList);r.push({slug:this.target.slug,password:t}),localStorage.unlockedArchiveList=JSON.stringify(r),this.unlocked=!0,e.$store.dispatch("archive/switchArchiveLockedStatus"),setTimeout((function(){return e.setContent()}),500),this.$notification({type:"info",msg:"解锁成功"})}else this.$notification({type:"info",msg:"密码错啦 QAQ"})}else this.$notification({type:"info",msg:"输密码啊 啊喂！！！"})},setContent:function(){var e=this;e.readTime=Math.round(document.getElementsByClassName(e.$style.postBody)[0].innerText.length/400)>1?Math.round(document.getElementsByClassName(e.$style.postBody)[0].innerText.length/400):1,e.generateToc(),e.imageGrid();for(var t=document.querySelectorAll("[data-live-photo]"),r=0;r<t.length;++r)o["createPlayer"](t[r]);window.MathJax&&window.MathJax.Hub.Queue((function(){var e,t=window.MathJax.Hub.getAllJax();for(e=0;e<t.length;e+=1)t[e].SourceElement().parentNode.className+=" has-jax"}))},imageGrid:function(){var e=this;document.querySelectorAll(".imageGrid").forEach((function(t,r){t.querySelectorAll("img").forEach((function(t,r){var i=Math.round(t.getBoundingClientRect().width),n=Math.round(t.getBoundingClientRect().height);0!=n?(t.parentNode.style.width=200*i/n+"px",t.parentNode.style.flexGrow=200*i/n):setTimeout((function(){return e.imageGrid()}),0)}))}))},tocTo:function(e){window.scrollTo({top:e,behavior:"smooth"})},generateToc:function(){var e=this,t=[],r=1,i=0,n=[];document.querySelectorAll("#postContent h1, #postContent h2, #postContent h3, #postContent h4, #postContent h5, #postContent h6").forEach((function(n,a){n.id||(n.id=n.textContent);var s=parseInt(n.tagName.replace(/[h]/i,""),10),l=-1;s>r?(i+=1,l=1===i?-1:a-1):s===r||s<r&&s>i?1===s?(i=1,l=-1):l=t[a-1].pid:s<=i&&(1===s?i=1:(i-=r-s,i<=1&&(i=1)),l=1===i?-1:o(t,r-s,a)),t.push({id:a,pid:l,level:i,tid:"toc-"+a+"-"+n.id,textContent:n.textContent,href:window.location.origin+window.location.pathname+"#"+n.id,offsetTop:document.querySelector("#"+n.id).offsetTop-e.bgHeight/2+180}),r=s}));var a=function(e){var t=e.filter((function(e){return-1==e.pid})),r=e.filter((function(e){return-1!==e.pid})),i=function e(t,r){t.forEach((function(t){r.forEach((function(i,n){if(i.pid===t.id){var a=JSON.parse(JSON.stringify(r));a.splice(n,1),e([i],a),"undefined"!==typeof t.children?t.children.push(i):t.children=[i]}}))}))};return i(t,r),t};n=a(t),e.tocCurrent=t[0],e.tocs=n,window.addEventListener("scroll",(function(){if(document.getElementsByClassName(e.$style.postBody).length){window.scrollY;var r=document.getElementsByClassName(e.$style.postBody)[0].offsetTop+document.getElementsByClassName(e.$style.postBody)[0].getBoundingClientRect().height,i=t.filter((function(e,t,i){var n,a=i[t+1];n=a?a.offsetTop-window.innerHeight/5:r;var o=window.scrollY+window.innerHeight/2;return e.offsetTop<=o&&n>window.scrollY}));e.tocCurrent=i[0]||t[0]||null}}),!0);var o=function(e,t,r){var i;switch(t){case 2:i=e[e[e[r-1].pid].pid].pid;break;case 3:i=e[e[e[e[r-1].pid].pid].pid].pid;break;case 4:i=e[e[e[e[e[r-1].pid].pid].pid].pid].pid;break;case 5:i=e[e[e[e[e[e[r-1].pid].pid].pid].pid].pid].pid;break;default:i=e[e[r-1].pid].pid;break}return i};return n},clickAwesome:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,i,n,a,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.liked){e.next=11;break}return e.next=3,this.$axios.delete("https://api.aim.moe/Common/Counter/Hexo",{params:{type:"like",title:this.target.title,url:(-1==this.$store.state.global.hexoConfig.url.url.indexOf("/")?this.$store.state.global.hexoConfig.url.url:this.$store.state.global.hexoConfig.url.url+"/")+this.target.slug}});case 3:t=e.sent,this.likeNum=t.data.data.like,this.liked=!this.liked,r=JSON.parse(localStorage.liked),i=r.filter((function(e){return e.slug!==o.target.slug&&e.title!==o.target.title})),localStorage.liked=JSON.stringify(i),e.next=20;break;case 11:return e.next=13,this.$axios.post("https://api.aim.moe/Common/Counter/Hexo",{params:{type:"like",title:this.target.title,url:(-1==this.$store.state.global.hexoConfig.url.url.indexOf("/")?this.$store.state.global.hexoConfig.url.url:this.$store.state.global.hexoConfig.url.url+"/")+this.target.slug}});case 13:n=e.sent,this.likeNum=n.data.data.like,this.liked=!this.liked,"string"!==typeof localStorage.liked&&(localStorage.liked=JSON.stringify([])),a=JSON.parse(localStorage.liked),a.push({slug:this.target.slug,title:this.target.title}),localStorage.liked=JSON.stringify(a);case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),isObjectEmpty:function(e){return 0===Object.keys(e).length}}}}).call(this,r("b639").Buffer)},1154:function(e,t,r){e.exports={noSelect:"_3J_zAObcbwLh5pXH4D55",grid:"_2EmOSZVRhJ7kJWpRZLLB",tableContainer:"_3KJB8Y8sung62svrnXO2",animated:"c0ZIfrZGPBAIn-mjOsHZ",paused:"_2ZmADDzYFA926W1XZRNf",running:"_31GokoJ52bAt8PIswleU",show:"_1BqnGrRH7bxkawVoRwNK",showDataV0540091C:"_33OlK3mUNafPUe168uLi",hide:"_HOxKD3ngo1HWD_Pt-yV",hideDataV0540091C:"_3as8jo57NrAfZRFAcSK0",noAnimated:"_16Bok-BPwNmDpMpt1JE3",slideInUp:"_2eSEMj8liR2HoThtxBwG",slideInUpDataV0540091C:"_2-zSD6rp7AZIc-3_GDty",hljsComment:"_6DFpszUmYsJ6NCMp9CdD",hljsQuote:"Qe7Ac-RxOo9ic1jCEAlG",hljsVariable:"aKpGIHY3tNhkYFtkCGsH",hljsTemplateVariable:"_2qzt8il3EFch_A8dji1Z",hljsTag:"_7PjeD9c7Za12jZZvB5I5",hljsName:"_3CUIR1rdJEt6P6NkL-jN",hljsSelectorId:"_15_hf0QsO2AE82Bj_8nA",hljsSelectorClass:"_3HNvyEZ-Bx8CrAaRhJjw",hljsRegexp:"_3TpUwsFBzcFzeHvKg4fk",hljsDeletion:"_2KkzxLBm4cjGOORL8C9t",hljsNumber:"_2i9z8vA0uPEys4Uukg1e",hljsBuiltIn:"_1z-YyBvGv_nnT3iV1Ehv",hljsBuiltinName:"UIPP8Jkssagf3jDH5WpW",hljsLiteral:"_3IYNmLDU4gQwgbnRo7U_",hljsType:"_1ZLukjeRMBSYQzkj9HLQ",hljsParams:"_2Y9ysyawBRUFcr58R180",hljsMeta:"_1mCRhp5kpASs67dq2TQ-",hljsLink:"_4rBYU2QC_H2xTE-L599C",hljsAttribute:"Xk4ZnfI4mvZe76kVcGoA",hljsString:"i0mOeEyh4-kCfwxpO01Q",hljsSymbol:"_146iIW6cN8z1gWS7gKzb",hljsBullet:"_2MN045n0cTNbp5Vq-9Be",hljsAddition:"_32j9ofbguTvBRAP7FKI_",hljsTitle:"mdH02gS0bpkTs5tIejfl",hljsSection:"_2bkj_5VQsTknfAzyKB2w",hljsKeyword:"_2B7n9igF3k83f_PWSd9y",hljsSelectorTag:"_3bMVbZwcmYvqZ0exbpax",hljs:"_1OCMizvQSv_4jpD4CqTE",hljsEmphasis:"_1ajY1wiS38Dy-9mWqYLu",hljsStrong:"_13EZX07SHqvYL0LOCQv5",diff:"tP97wlhKlP1SMqa5VE0R",hljsHeader:"_2JY4AHQ1JOcSWhiApu0L",hljsJavadoc:"l4PIZ0KePKcQuZM_MGWn",css:"k8G6buOJ3nAqkBJpptSQ",rule:"_1GZxvry0Dlocq7rWVx3U",hljsWinutils:"_1DCmht33oSwotfkIM3_m",nginx:"_1-8T1cQaImNp_Co_R24P",hljsSubst:"_2-V5tDEedrglvGWiDDyR",hljsRequest:"_2r14OFfgiW-t3tO6czoN",hljsStatus:"_3jWhhjFt_ERwrK8zMnhp",hljsId:"_1PJAoqH38aB6Lk4p70Qp",scss:"_2BK7aJtfFwXiSRuUqxBq",hljsPreprocessor:"_1wye5nFxggYX-Tq_i6o-",hljsClass:"_2GdzC0zd2rrzBQ9Z7Yrd",vhdl:"KeULkF4XcIJ146bvMaqj",tex:"_2JSGyf-0_p7WSvfhGvVc",hljsCommand:"_2ATF5arxojfKaT0BLv7p",hljsPragma:"OMRMQVso7x4I2LvwlTEB",hljsPi:"_3P-72n3R-CLwPifG71dh",hljsDoctype:"_1f-SXR3N_F38BNaOb63J",hljsShebang:"_31dPaYvogiDu1GnggbR5",hljsCdata:"_2K1gV-ITzBHFyX8dYvrg",container:"_2uZ_bl5ofDlHIixHkGGN",row:"_1dRbnRVh36epC8K1UIYW",postBody:"_2Y8Qtrtd_28xmIdsvRO8",postBodyTitle:"_1Hz3MWBPd4ZilzkhoQIc",postBodyInfo:"_28H1VYRejZCr14wvIfNl",postBodyInfoSegmentation:"_2NJOjQI83TWpCtvMzUtd",postBodyInfoTime:"_2XdT6n1UplgEo25pZ3Dy",postBodyInfoStatus:"_2aGIwnY0fE8zj9RSwp4M",postBodyInfoStatusAwesome:"_3g7N-b2YQ_U7cqnFut55",postBodyInfoStatusComment:"alf2maZZ-jaosBbO0UY8",postBodyInfoTag:"_2F3YmAbdgTF-6MHtLj6v",postBodyInfoTagItem:"_1nZbiiXbBHQz8BncQ7-4",postBodyStatusLocked:"tMKoHtIfMgnXxihsA7GL",postBodyStatusLockedDom:"_25GZWnxhQuOMiB1y8q5k",postBodyStatusLockedDomGrid:"_1oZFGtIQgGwm5v3QS_Bu",postBodyStatusLockedDomGridLogo:"jXefGY7Ikbunw593Nh4w",postBodyStatusLockedDomGridConetent:"_24N4NNYM-wSZ6Ak5MY__",postBodyStatusLockedDomGridButton:"_1IMHt4DZ1sO8s4Ew53gQ",postBodyStatusLoading:"WbRa2e0IqgMV5SD24Nj0",loadingDataV0540091C:"-tu60Goef_aBHT3oIpO3",postBodyContent:"_1HUwgEot5SYZLi5hA98c",postBodyContentTags:"_2LjXYADgWz6TOZsfKewo",postBodyContentTagLink:"_2EB6E72gV4zum_LDQ8wH",postBodyContentTagLinkItem:"_24t1OWktXK4pPGjPLBrP",postBodyContentTagLinkItemContent:"RHkTjzYHgJhJKxFr5tQs",postBodySuspendedPanel:"_1PPdyU-8ViHfr6AvOpA9",postBodySuspendedPanelReadTime:"_3sgNOxdFA_XF1wXnLGfS",postBodySuspendedPanelInfo:"_2IDLIUvJF6sL0Upc3IAP",postBodySuspendedPanelInfoTocDrawer:"_2uxoY2wrDUi43b9i6H4E",postBodySuspendedPanelInfoTocDrawerItem:"_27x5VpTlBiGUeI0G1Hjv",postBodySuspendedPanelInfoTocDrawerItemNoChildren:"_3MW0M8Dkj8WIwQjlLN1j",postBodySuspendedPanelInfoTocDrawerItemChildren:"FM6-5p7bOXCsc72kCSlD",postBodySuspendedPanelBtn:"_2NMKmhq8Ia-dlAT7bI0S",postBodySuspendedPanelBtnLike:"_2u6nmEpB0po-w93SBB1y",postBodySuspendedPanelBtnLikeActive:"_2JkshQ5ilt7hUrt_My6_",postBodySuspendedPanelBtnAwesome:"_2YkGOwtoIwNigT6CII92",postBodySuspendedPanelBtnAwesomeActive:"BCwhlf126Z9oZkWos135",hr:"_2nf3CLrENZarcxEinAcU",postBodyComment:"_14teOk2kGNfllwt7MRJB",sideList:"_1SfmIxctP8I_1bhdYpjx",sideCard:"GXbh0PNBmN_ttbXnN82p",sideCardCover:"_-93zfcVminmjwpcUnLQ6",sideCardCoverContainer:"e6arqhjGD0h9SVMUCye7",sideCardCoverContainerDiv:"gc7Ja9V3D81YOX7FZ_E0",sideCardUpdateTime:"_1i6Nn0Z3w-AWrh-NLP8d",sideCardUpdateTimeContainer:"_10WF8UYNyWRz23yn-iw2",sideCardMain:"_2ezSM2Q8Y3Q-3qxG5iKS",sideCardMainTitle:"_1_L3_ZQRNcQj8zN1JKjm",sideCardMainContent:"_3724SbA8AI6hMyduSEeI",postCardInfoShowDataV0540091C:"_3e4uhC7O0HXWKUL8hm2U",postCardInfoMoveDataV0540091C:"WJIhCG-5fgLjeQxz_p-4"}},"1cd8":function(e,t,r){"use strict";r.r(t);var i=function(){var e,t=this,r=t.$createElement,i=t._self._c||r;return i("div",{class:t.$style.container},[i("div",{class:t.$style.row},[i("div",{class:t.$style.postBody},[i("h1",{class:t.$style.postBodyTitle},[t._v(t._s(t.target.title||"Untitled"))]),i("div",{class:t.$style.postBodyInfo},[i("div",{class:t.$style.postBodyInfoTime},[t._v(t._s(t._f("format")(t.target.date,t.dateFormat)))]),i("div",{class:t.$style.postBodyInfoSegmentation},[t._v("・")]),t.target.locked&!t.unlocked?i("div",{class:t.$style.postBodyInfoStatus},[t._v("私密")]):t.target.locked&&t.unlocked?i("div",{class:t.$style.postBodyInfoStatus},[t._v("只对你公开哦～")]):i("div",{class:t.$style.postBodyInfoStatus},[t._v("对所有人公开")]),i("div",{class:t.$style.postBodyInfoSegmentation},[t._v("・")]),i("div",{class:t.$style.postBodyInfoStatusAwesome},[t._v("赞 "+t._s(t.likeNum))]),i("div",{class:t.$style.postBodyInfoSegmentation},[t._v("・")]),t.disqusOptions.enable?i("div",{class:t.$style.postBodyInfoStatusComment},[t._v("评论 "+t._s(t.commentNum))]):t._e()]),i("transition",{attrs:{"enter-active-class":"animated show","leave-active-class":"animated hide",mode:"out-in"}},[t.target.locked&&!t.unlocked?i("div",{key:"locked",class:t.$style.postBodyStatusLocked},[i("div",{class:t.$style.postBodyStatusLockedDom},[i("div",{class:t.$style.postBodyStatusLockedDomGrid},[i("div",{class:t.$style.postBodyStatusLockedDomGridLogo}),i("div",{class:t.$style.postBodyStatusLockedDomGridConetent},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",autocomplete:"off",placeholder:"输入密码就可以查看了哟～"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),i("div",{class:t.$style.postBodyStatusLockedDomGridButton},[i("button",{attrs:{type:"button"},on:{click:t.verification}},[t._v("提交")])])])])]):i("div",{key:"postContent",class:t.$style.postBodyContent},[i("div",{attrs:{id:"postContent"},domProps:{innerHTML:t._s(t.target.content)}}),i("live-photo"),t.target.tags&&t.target.tags.length?i("div",{class:t.$style.postBodyContentTags},t._l(t.target.tags,(function(e){return i("router-link",{key:e.path,class:t.$style.postBodyContentTagLink,attrs:{to:{name:"related",params:{type:"tag",slug:e.slug}}}},[i("div",{class:t.$style.postBodyContentTagLinkItem},[i("div",{class:t.$style.postBodyContentTagLinkItemContent},[t._v(" "+t._s(e.name)+" ")])])])})),1):t._e()],1)]),i("div",{class:t.$style.postBodySuspendedPanel},[i("span",{class:t.$style.postBodySuspendedPanelReadTime},[t._v(t._s(t.readTime)+" 分钟")]),i("div",{class:t.$style.postBodySuspendedPanelInfo,on:{click:function(e){t.showToc=!t.showToc}}},[i("transition",{attrs:{name:"list"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showToc,expression:"showToc"}],class:t.$style.postBodySuspendedPanelInfoTocDrawer,attrs:{tabindex:"-1"}},t._l(t.tocs,(function(e){var r,n;return i("div",{key:e.tid,class:[t.$style.postBodySuspendedPanelInfoTocDrawerItem,(r={},r[t.$style.postBodySuspendedPanelInfoTocDrawerItemChildren]=e.children,r),(n={},n[t.$style.postBodySuspendedPanelInfoTocDrawerItemNoChildren]=!e.children,n)]},[t.isObjectEmpty(e.children||[])?i("div",{on:{click:function(r){return t.tocTo(e.offsetTop)}}},[t._v(" "+t._s(e.textContent)+" ")]):i("div",t._l(e.children,(function(r){return i("div",{key:r.tid,class:t.$style.postBodySuspendedPanelInfoTocDrawerItem,on:{click:function(r){return t.tocTo(e.offsetTop)}}},[i("div",[t._v(" "+t._s(e.textContent)+" - "+t._s(r.textContent)+" ")])])})),0)])})),0)]),t._v(" "+t._s(t.target.title||"Untitled")),t.tocCurrent?i("span",[t._v(" - "+t._s(t.tocCurrent.textContent||"Toc"))]):t._e()],1),i("section",[i("div",{class:t.$style.postBodySuspendedPanelBtn},[i("button",{class:[t.$style.postBodySuspendedPanelBtnAwesome,(e={},e[t.$style.postBodySuspendedPanelBtnAwesomeActive]=t.liked,e)],attrs:{type:"button"},on:{click:function(e){return t.clickAwesome()}}},[i("svg",{attrs:{viewBox:"0 0 12 12"}},[i("path",{attrs:{d:"M2,6 C0.8954305,6 0,5.1045695 0,4 C0,2.8954305 0.8954305,2 2,2 C3.1045695,2 4,2.8954305 4,4C4,5.1045695 3.1045695,6 2,6 Z M10,6 C8.8954305,6 8,5.1045695 8,4 C8,2.8954305 8.8954305,2 10,2C11.1045695,2 12,2.8954305 12,4 C12,5.1045695 11.1045695,6 10,6 Z M2.1109127,8.8890873C1.72038841,8.498563 1.72038841,7.86539803 2.1109127,7.47487373C2.501437,7.08434944 3.13460197,7.08434944 3.52512627,7.47487373C4.89196129,8.84170876 7.10803871,8.84170876 8.47487373,7.47487373C8.86539803,7.08434944 9.498563,7.08434944 9.8890873,7.47487373C10.2796116,7.86539803 10.2796116,8.498563 9.8890873,8.8890873C7.74120369,11.0369709 4.25879631,11.0369709 2.1109127,8.8890873 Z"}})]),i("span",[t._v("赞！")])])])])]),t.target.locked&&t.unlocked&&t.target.comments||!t.target.locked&&null==t.unlocked&&t.target.comments?i("div",{class:t.$style.hr},[i("div")]):t._e(),t.target.locked&&t.unlocked&&t.target.comments||!t.target.locked&&null==t.unlocked&&t.target.comments?i("div",{class:t.$style.postBodyComment},[i("Comments",{attrs:{slug:t.target.slug,title:t.target.title||"Untitled"},on:{setCommentLen:t.setCommentLen}})],1):t._e()],1)]),t.notification?i("Notification",{attrs:{type:t.notificationType,msg:t.notificationMsg,visible:t.notificationVisible}}):t._e()],1)},n=[],a=r("5530"),o=r("0b5a"),s=Object(a["a"])({},o["a"]),l=s,d=(r("b66c"),r("9a57")),c=r("2877");function u(e){this["$style"]=d["default"].locals||d["default"]}var h=Object(c["a"])(l,i,n,!1,u,"0540091c",null);t["default"]=h.exports},"2dbc":function(e,t,r){},"4c7f":function(e,t,r){"use strict";var i=r("cdee"),n=r.n(i);t["default"]=n.a},5308:function(e,t,r){
/*!
 * Copyright (c) 2017 Apple Inc. All rights reserved.
 * 
 * # LivePhotosKit JS License
 * 
 * **IMPORTANT:** This Apple LivePhotosKit software is supplied to you by Apple
 * Inc. ("Apple") in consideration of your agreement to the following terms, and
 * your use, reproduction, or installation of this Apple software constitutes
 * acceptance of these terms. If you do not agree with these terms, please do not
 * use, reproduce or install this Apple software.
 * 
 * This Apple LivePhotosKit software is supplied to you by Apple Inc. ("Apple") in
 * consideration of your agreement to the following terms, and your use,
 * reproduction, or installation of this Apple software constitutes acceptance of
 * these terms. If you do not agree with these terms, please do not use, reproduce
 * or install this Apple software.
 * 
 * This software is licensed to you only for use with LivePhotos that you are
 * authorized or legally permitted to embed or display on your website. 
 * 
 * The LivePhotosKit Software is only licensed and intended for the purposes set
 * forth above and may not be used for other purposes or in other contexts without
 * Apple's prior written permission. For the sake of clarity, you may not and
 * agree not to or enable others to, modify or create derivative works of the
 * LivePhotosKit Software.
 * 
 * Neither the name, trademarks, service marks or logos of Apple Inc. may be used
 * to endorse or promote products, services without specific prior written
 * permission from Apple. Except as expressly stated in this notice, no other
 * rights or licenses, express or implied, are granted by Apple herein.
 * 
 * The LivePhotosKit Software is provided by Apple on an "AS IS" basis. APPLE
 * MAKES NO WARRANTIES, EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE
 * IMPLIED WARRANTIES OF NON-INFRINGEMENT, MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE, REGARDING THE LIVEPHOTOSKIT SOFTWARE OR ITS USE AND
 * OPERATION ALONE OR IN COMBINATION WITH YOUR PRODUCTS, SYSTEMS, OR SERVICES.
 * APPLE DOES NOT WARRANT THAT THE LIVEPHOTOSKIT SOFTWARE WILL MEET YOUR
 * REQUIREMENTS, THAT THE OPERATION OF THE LIVEPHOTOSKIT SOFTWARE WILL BE
 * UNINTERRUPTED OR ERROR-FREE, THAT DEFECTS IN THE LIVEPHOTOSKIT SOFTWARE WILL BE
 * CORRECTED, OR THAT THE LIVEPHOTOSKIT SOFTWARE WILL BE COMPATIBLE WITH FUTURE
 * APPLE PRODUCTS, SOFTWARE OR SERVICES. NO ORAL OR WRITTEN INFORMATION OR ADVICE
 * GIVEN BY APPLE OR AN APPLE AUTHORIZED REPRESENTATIVE WILL CREATE A WARRANTY. 
 * 
 * IN NO EVENT SHALL APPLE BE LIABLE FOR ANY DIRECT, SPECIAL, INDIRECT, INCIDENTAL
 * OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) RELATING TO OR ARISING IN ANY WAY OUT OF THE USE, REPRODUCTION,
 * OR INSTALLATION, OF THE LIVEPHOTOSKIT SOFTWARE BY YOU OR OTHERS, HOWEVER CAUSED
 * AND WHETHER UNDER THEORY OF CONTRACT, TORT (INCLUDING NEGLIGENCE), STRICT
 * LIABILITY OR OTHERWISE, EVEN IF APPLE HAS BEEN ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE. SOME JURISDICTIONS DO NOT ALLOW THE LIMITATION OF LIABILITY FOR
 * PERSONAL INJURY, OR OF INCIDENTAL OR CONSEQUENTIAL DAMAGES, SO THIS LIMITATION
 * MAY NOT APPLY TO YOU. In no event shall Apple's total liability to you for all
 * damages (other than as may be required by applicable law in cases involving
 * personal injury) exceed the amount of fifty dollars ($50.00). The foregoing
 * limitations will apply even if the above stated remedy fails of its essential
 * purpose. 
 * 
 * 
 * **ACKNOWLEDGEMENTS:**
 * https://cdn.apple-livephotoskit.com/lpk/1/acknowledgements.txt
 * 
 * v1.5.6
 */
!function(t,r){e.exports=r()}(0,(function(){return function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,i){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=25)}([function(e,t,r){"use strict";function i(e){if(e){var t=e.staticMembers;t&&n.call(this,t),n.call(this.prototype,e)}}function n(e){for(var t in e)if(e.hasOwnProperty(t)&&"staticMembers"!==t){var r=Object.getOwnPropertyDescriptor(e,t);r.get||r.set?Object.defineProperty(this,t,r):a.call(this,t,e[t])}}function a(e,t){var r=this[e];return r instanceof Function&&t instanceof Function?o.call(this,e,t,r):I.instanceOrKindOf(t,I.Metadata)?s.call(this,e,t):void(this[e]=t)}function o(e,t,r){this[e]=function(){var e=this._super;this._super=r;var i=t.apply(this,arguments);return this._super=e,i}}function s(e,t){this.hasOwnProperty("_metadatas")||(this._metadatas=Object.create(this._metadatas)),(t.isLPKClass?t.sharedInstance:t).registerOnDefinition(this,e)}function l(e){var t=this["_callbacksFor_"+e];if(t){var r=void 0;if(arguments.length>1){r=I.arrayPool.get();for(var i=1,n=arguments.length;i<n;i++)r[i-1]=arguments[i]}var a=void 0;if(a=this._triggerPauseStack){var o=a[a.length-1];if("IS_FLUSHING"!==o[o.length-1])return void o.push(this,e,r)}for(var s=0,l=t.length;s<l;s++){var d=t[s];d&&d.apply(this,r)}r&&I.arrayPool.ret(r)}}function d(e,t){if(-1!==e.indexOf("."))return u.call(this,e,t);var r="_callbackToIndexMapFor_"+e,i=this.hasOwnProperty(r)?this[r]:this[r]=this[r]?new x.a(this[r]):new x.a;if(void 0===i.get(t)){var n="_callbacksFor_"+e,a=this.hasOwnProperty(n)?this[n]:this[n]=this[n]?this[n].slice():[];i.set(t,a.length),a.push(t)}}function c(e,t){if(-1!==e.indexOf("."))return h.call(this,e,t);var r="_callbackToIndexMapFor_"+e,i=this[r];if(i&&void 0!==i.get(t)){var n=this.hasOwnProperty(r)?this[r]:this[r]=this[r]?new x.a(this[r]):new x.a,a="_callbacksFor_"+e;(this.hasOwnProperty(a)?this[a]:this[a]=this[a]?this[a].slice():[])[n.get(t)]=null,n.delete(t)}}function u(e,t,r){var i="_"+e+"_"+I.guidFor(t)+"_"+I.guidFor(r),n="_chainListenerMaintenanceCallback_for"+i;if(!this[n]){var a=e.indexOf("."),o=-1!==a,s=e.substring(a+1),l=s.substring(0,(s.indexOf(".")+1||s.length+1)-1),c=e.substring(0,-1===a?e.length:a),p="_chainListenerPreviousStoredValue_for"+i,f=function(e){var i=r||this;if(l&&o){var n=this[c],a=this[p];n!==a&&(this[p]=n,a&&a.isLPKObservable&&h.call(a,s,t,i),n&&n.isLPKObservable&&u.call(n,s,t,i))}e||t.call(i)};d.call(this,c,f),this.isInitialized&&f.call(this,!0),this[n]=f}}function h(e,t,r){var i="_"+e+"_"+I.guidFor(t)+"_"+I.guidFor(r),n="_chainListenerMaintenanceCallback_for"+i,a=this[n];if(a){var o=e.indexOf("."),s=e.substring(0,-1===o?e.length:o);c.call(this,s,a);var l="_chainListenerPreviousStoredValue_for"+i,d=this[l];if(d&&d.isLPKObservable){this[l]=void 0;var u=e.substring(o+1),p=r||this;h.call(d,u,t,p)}this[n]=void 0}}function p(e,t){d.apply(this,arguments),this.isInitialized&&t.call(this)}function f(e,t){c.apply(this,arguments)}function m(){var e=this._nextObserverId=(this._nextObserverId||0)+1,t="_runtimeObserver"+e,r=I.observer.apply(I.observer,arguments);return r.registerOnDefinition(this,t),r}function y(e){var t=this._metadatas[e];t&&t.invalidateForObject&&t.invalidateForObject(this)}function v(e){return I.resolvePropertyPathFromObject(this,e)}function g(e,t){var r=e.lastIndexOf(".");if(-1!==r){var i=I.resolvePropertyPathFromObject(this,e.slice(0,r));i&&(i[e.slice(r+1)]=t)}else this[e]=t}function _(){for(var e=I.objectPool.get(),t=0,r=arguments.length;t<r;t++){var i=arguments[t];e[i]=this.getPath(i)}return e}function b(){var e=arguments.length,t=arguments[e-1],r=I.arrayPool.get();if(e>1)for(var i=0;i<e-1;i++)r[i]=arguments[i];else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.push(n);I.Object.prototype.pauseNotifications();for(var a=0,o=r.length;a<o;a++){var s=r[a];this.setPath(s,t[s])}I.Object.prototype.resumeNotifications(),I.arrayPool.ret(r)}function P(){(this.hasOwnProperty("_triggerPauseStack")?this._triggerPauseStack:this._triggerPauseStack=I.arrayPool.get()).push(I.arrayPool.get())}function C(){var e=this.hasOwnProperty("_triggerPauseStack")&&this._triggerPauseStack;if(!e)throw"Unmatched `resumeNotifications` call. Cannot over-resume notifications.";var t=e[e.length-1];k(t),e.pop(),I.arrayPool.ret(t),e.length||(delete this._triggerPauseStack,I.arrayPool.ret(e))}function k(e){e.push("IS_FLUSHING");for(var t=I.objectPool.get(),r=0,i=e.length-1;r<i;r+=3){var n=e[r],a=e[r+1],o=e[r+2],s=I.guidFor(n)+":"+a,l=t[s];void 0!==l&&(e[l]=null),t[s]=o?void 0:r}I.objectPool.ret(t);for(var d=0,c=e.length-1;d<c;d+=3){var u=e[d];if(u){var h=e[d+1],p=e[d+2];p?(p.unshift(h),u.trigger.apply(u,p),I.arrayPool.ret(p)):u.trigger(h)}}}var S=r(47),w=r(20),x=r(19),T=r(44),O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I={mixin:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];for(var n=1,a=arguments.length;n<a;n++){var o=arguments[n];if(o)for(var s in o)o.hasOwnProperty(s)&&(e[s]=o[s])}},instanceOf:function(e,t){return!!e&&(e.constructor===t||I.kindOf(e.constructor,t))},kindOf:function(e,t){if(!(e&&e.isLPKClass&&t&&t.isLPKClass))return!1;do{if(e===t)return!0}while(e=e.superclass);return!1},instanceOrKindOf:function(e,t){return I.instanceOf(e,t)||I.kindOf(e,t)},isHash:function(e){var t=void 0;return!("object"!==(void 0===e?"undefined":O(e))||null===e||(t=e.constructor)&&t!==Object||e.isLPKObject||e.isLPKClass)},arrayPool:S.a,mapPool:S.b,objectPool:S.c,canvasPool:S.d,String:T.a,Array:{mapIntoArray:function(e,t,r){var i=e.length;r.length!==i&&(r.length=i);for(var n=0;n<i;n++)r[n]=t(e[n],n);return r}},resolvePropertyPathFromObject:function(e,t){for(var r=t.indexOf("."),i=0,n=e;-1!==r;){if(!(n=n[t.substring(i,r)]))return;i=r+1,r=t.indexOf(".",i)}return n[t.substring(i)]},InequalityTests:{DEFAULT:function(e,t,r){return e!==t||Array.isArray(e)||I.isHash(e)},STRICT:function(e,t,r){return e!==t},NAN_AWARE:function(e,t,r){return!Object.is(e,t)}},guidFor:w.a,reusableObject:{},emptyArray:[],Object:null,Metadata:null,observer:null,MetadataExtension:null,metadataExtension:null,AccumulatorMetadata:null,accumulator:null,ObserverMetadata:null,Property:null,property:null,ObservableProperty:null,observableProperty:null,ProxyProperty:null,proxyProperty:null,boundFunction:null};I.Object={staticMembers:{isLPKClass:!0,isLPKObservable:!0,isInitialized:!0,create:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=Object.create(this.prototype);return i.constructor=this,i.init.apply(i,arguments),i},extend:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=Object.create(this);return n.prototype=Object.create(n.prototype),Array.prototype.forEach.call(arguments,i,n),n.superclass=this,n.init(),n},init:function(){},isClassFor:function(e){var t=e&&e.constructor;return!(!t||!this.isSuperclassOf(t))},isSuperclassOf:function(e){var t=this;if(!(e&&e.isLPKClass&&t&&t.isLPKClass))return!1;do{if(e===t)return!0}while(e=e.superclass);return!1},_super:null,_metadatas:{},trigger:l,_listen:d,_observe:p,_unlisten:c,_unobserve:f,observe:m,propertyChanged:y,pauseNotifications:P,resumeNotifications:C,getPath:v,setPath:g,getMultiple:_,setMultiple:b},isLPKObject:!0,isLPKObservable:!0,isInitialized:!1,_metadatas:{},init:function(e){I.mixin(this,e),this._awakenPropertiesWithAccessors()},_awakenPropertiesWithAccessors:function(){var e=I.arrayPool.get(),t=this._metadatas;do{e.push(t)}while(t=Object.getPrototypeOf(t));for(var r,i=I.arrayPool.get(),n=I.arrayPool.get(),a=I.arrayPool.get(),o=I.mapPool.get(),s=e.length-1;r=e[s];s--){for(var l in r)if(r.hasOwnProperty(l)){var d=r[l];if(d.hasAccessors){var c=this[l];if(void 0!==c){var u=o.get(d);void 0!==u&&(i[u]=n[u]=void 0),o.set(d,i.length),i.push(d),n.push(c)}}}a.push(i.length)}this.isInitialized=!0,I.Object.prototype.pauseNotifications();for(var h=0,p=n.length;h<p;h++){var f=n[h];void 0!==f&&i[h].awakenForObjectWithValue(this,f)}I.Object.prototype.resumeNotifications(),I.arrayPool.ret(e),I.arrayPool.ret(i),I.arrayPool.ret(n),I.arrayPool.ret(a),I.mapPool.ret(o)},_super:null,trigger:l,_listen:d,_observe:p,_unlisten:c,_unobserve:f,observe:m,propertyChanged:y,pauseNotifications:P,resumeNotifications:C,getPath:v,setPath:g,getMultiple:_,setMultiple:b},I.Object.staticMembers.prototype=I.Object,I.Object=I.Object.staticMembers,delete I.Object.prototype.staticMembers,Object.defineProperty(I.Object,"sharedInstance",{get:function(){return this.hasOwnProperty("_internalValue_for_sharedInstance")||(this._internalValue_for_sharedInstance=this.create()),this._internalValue_for_sharedInstance},set:function(){throw"Cannot write to a read-only property."}}),I.Metadata=I.Object.extend({registerOnDefinition:function(e,t){e._metadatas[t]=this},unregisterFromDefinition:function(e,t){e._metadatas[t]=void 0}}),I.MetadataExtension=I.Metadata.extend({init:function(e){this._super(),this._extensionParams=e},registerOnDefinition:function(e,t){e._metadatas[t].constructor.extend(this._extensionParams).sharedInstance.registerOnDefinition(e,t)}}),I.metadataExtension=I.MetadataExtension.create.bind(I.MetadataExtension),I.AccumulatorMetadata=I.Metadata.extend({init:function(e){this._super(),this.value=e},registerOnDefinition:function(e,t){var r=e[t];e[t]=this.accumulateValues(e,r,this.value)},accumulateValues:function(e,t,r){if(Array.isArray(t)&&Array.isArray(r))return t.concat(r);if(t&&t.isLPKClass&&I.isHash(r))return t.extend(r);if(r instanceof Function)return r.call(e,t);throw"Cannot use accumulators this way yet."}}),I.accumulator=I.AccumulatorMetadata.create.bind(I.AccumulatorMetadata),I.ObserverMetadata=I.Metadata.extend({staticMembers:{_collector:[]},dependencies:[],observerCallback:function(){throw"Must specify `observerCallback` on observers."},decideRequiresUpdate:I.InequalityTests.DEFAULT,init:function(){if(I.isHash(arguments[0]))this._super.apply(this,arguments);else{var e=Array.prototype.slice.call(arguments),t=e.pop();this._super({dependencies:e,observerCallback:t})}},registerOnDefinition:function(e,t){this._super.apply(this,arguments),this.keyOnObject=t;var r=this;this._invokeObserverCallbackIfNeeded=this._invokeObserverCallbackIfNeeded||(this._invokeObserverCallbackIfNeeded=function(){var e=r.dependencies,i=r.observerCallback,n=r.constructor._collector;n.length=e.length;var a=!1;r._shouldForceNextInvocationOfObserverCallback&&(r._shouldForceNextInvocationOfObserverCallback=!1,a=!0);for(var o=0;o<e.length;o++){var s=e[o],l=this.getPath(s),d="_lastValueSeenByObserver_"+t+"_forDependency_"+s,c=this[d];this[d]=l,!a&&r.decideRequiresUpdate(l,c,s)&&(a=!0),n[o]=l}a&&i.apply(this,n),n.length=0}),e[this.keyOnObject]=e[this.keyOnObject]||(e[this.keyOnObject]=function(){r._shouldForceNextInvocationOfObserverCallback=!0,r._invokeObserverCallbackIfNeeded.call(this)});for(var i=this.dependencies,n=0;n<i.length;n++)e.isInitialized?e._observe(i[n],this._invokeObserverCallbackIfNeeded):e._listen(i[n],this._invokeObserverCallbackIfNeeded)},unregisterFromDefinition:function(e,t){this._super.apply(this,arguments);for(var r=this.dependencies,i=0;i<r.length;i++)e._unlisten(r[i],this._invokeObserverCallbackIfNeeded)}}),I.observer=I.ObserverMetadata.create.bind(I.ObserverMetadata),I.Property=I.Metadata.extend({staticMembers:{extend:function(e){return 1!==arguments.length||I.isHash(e)?this._super.apply(this,arguments):this._super({defaultValue:e})}},hasAccessors:!0,readOnly:!1,defaultValue:void 0,get:null,set:null,keyOnObject:null,storageKeyOnObject:null,_defaultGetter:function(e){return e},_defaultSetter:function(e){return e},_internalGetterForObject:function(e){return this.get.call(e,e[this.storageKeyOnObject])},_internalSetterForObject:function(e,t){e[this.storageKeyOnObject]=this.set.call(e,t)},init:function(e){var t=this;if(1!==arguments.length||I.isHash(e)?this._super.apply(this,arguments):this._super({defaultValue:e}),this.get||(this.get=this._defaultGetter),this.readOnly){if(this.set)throw"Cannot include both `readOnly` and `set`.";this.set=function(e){if(t._isAwakeningInReadOnlyMode)return t._isAwakeningInReadOnlyMode=!1,e;throw"Cannot write to a read-only property"}}else this.set||(this.set=this._defaultSetter)},registerOnDefinition:function(e,t){this._super.apply(this,arguments),this.keyOnObject=t;var r=this.storageKeyOnObject="_internalValue_for_"+t;this._internalGetterForObject=this._internalGetterForObject.bind(this),this._internalSetterForObject=this._internalSetterForObject.bind(this);var i=this;Object.defineProperty(e,t,{get:function(){return this.isInitialized?i._internalGetterForObject(this):this[r]},set:function(e){this.isInitialized?i._internalSetterForObject(this,e):this[r]=e}}),e[t]=this.defaultValue},unregisterFromDefinition:function(e,t){I.reusableObject[t]=void 0;var r=Object.getOwnPropertyDescriptor(I.reusableObject,t);delete I.reusableObject[t],Object.defineProperty(e,t,r),delete e["_internalValue_for_"+t],this._super.apply(this,arguments)},awakenForObjectWithValue:function(e,t){this.readOnly&&(this._isAwakeningInReadOnlyMode=!0),t instanceof Function&&(t=t.call(e)),e[this.keyOnObject]=t}}),I.property=I.Property.extend.bind(I.Property),I.ObservableProperty=I.Property.extend({isCacheable:!1,dependencies:[],writeDependencies:[],decideRequiresUpdate:I.InequalityTests.DEFAULT,_internalSetterForObject:function(e){this._super.apply(this,arguments),this.invalidateForObject(e)},_internalGetterForObject:function(e){if(!this.isCacheable)return this._super.apply(this,arguments);var t=this.cacheExistenceKeyOnObject;if(e[t])return e[this.cacheStorageKeyOnObject];var r=this._super.apply(this,arguments);return e[t]=!0,e[this.cacheStorageKeyOnObject]=r,r},invalidateForObject:function(e){e[this.cacheExistenceKeyOnObject]=!1,e[this.cacheStorageKeyOnObject]=void 0,e.trigger(this.keyOnObject)},registerOnDefinition:function(e,t){this._super.apply(this,arguments);var r=this;this.cacheStorageKeyOnObject="_cacheStorageForProperty_"+t,this.cacheExistenceKeyOnObject="_cacheExistenceForProperty_"+t,I.observer({dependencies:this.dependencies,observerCallback:function(){r.invalidateForObject(this)},decideRequiresUpdate:this.decideRequiresUpdate}).registerOnDefinition(e,"_dependencyObserverForProperty_"+t),this.didChange&&I.observer({dependencies:[t],observerCallback:this.didChange,decideRequiresUpdate:this.decideRequiresUpdate}).registerOnDefinition(e,"_didChangeObserverForProperty_"+t)}}),I.observableProperty=I.ObservableProperty.extend.bind(I.ObservableProperty),I.ProxyProperty=I.ObservableProperty.extend({proxyPath:null,decode:function(e){return e},encode:function(e){return e},init:function(e){var t="string"==typeof e?e:e.proxyPath;if(!t)throw"A proxyPath must be configured on a ProxyProperty.";this.dependencies=[t];var r=this;this.get=function(){return r.decode(this.getPath(r.proxyPath))},e&&e.readOnly||(this.set=function(e){this.setPath(r.proxyPath,r.encode(e))}),"string"==typeof e?this._super({proxyPath:e}):this._super.apply(this,arguments)}}),I.proxyProperty=I.ProxyProperty.create.bind(I.ProxyProperty),I.boundFunction=function(e){return I.property((function(){return e.bind(this)}))},t.a=I},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var i={default:"full",FULL:"full",HINT:"hint",LOOP:"loop"}},function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),a=navigator.userAgent.toLowerCase(),o=/\sedge\//.test(a),s=function(){function e(){i(this,e)}return n(e,null,[{key:"isEdge",get:function(){return o}},{key:"isChrome",get:function(){return e._isChrome}},{key:"isSafari",get:function(){return e._isSafari}},{key:"isFirefox",get:function(){return e._isFirefox}},{key:"isIE",get:function(){return e._isIE}},{key:"isIOS",get:function(){if(e._isIOS)return!0;var t=window.top,r=t.document;return!(!e._macLike||!("ontouchstart"in t)&&!("createTouch"in r))}}]),e}();t.a=s,s._isChrome=!s.isEdge&&/chrome/.test(a),s._isSafari=!s.isEdge&&!s.isChrome&&/safari/.test(a),s._isFirefox=!s.isEdge&&!s.isChrome&&!s.isSafari&&/firefox/.test(a),s._isIE=!s.isEdge&&!s.isChrome&&!s.isSafari&&!s.isFirefox&&/trident|msie/.test(a),s._isIOS=!!navigator.userAgent.match(/\b(iPad|iPhone|iPod)\b.*\bOS \d+_\d+/i),s._macLike=/mac/i.test(navigator.userAgent)&&!/like mac/i.test(navigator.userAgent)},function(e,t,r){"use strict";var i=r(10),n=r(1);r.d(t,"a",(function(){return a}));var a={_mappingToLocalizedStrings:{live:"Live",get bounce(){return i.a.getString("VideoEffects.Badge.Title.Bounce")},get exposure(){return i.a.getString("VideoEffects.Badge.Title.LongExposure")},get loop(){return i.a.getString("VideoEffects.Badge.Title.Loop")}},_mappingToPlaybackStyle:{bounce:n.a.LOOP,exposure:n.a.FULL,live:n.a.FULL,loop:n.a.LOOP},default:"live",BOUNCE:"bounce",EXPOSURE:"exposure",LIVE:"live",LOOP:"loop",toBadgeText:function(e){return this.toLocalizedString(e).toLocaleUpperCase()},toLocalizedString:function(e){return this._mappingToLocalizedStrings[e||a.default]},toPlaybackStyle:function(e){return this._mappingToPlaybackStyle[e||n.a.default]}}},function(e,t,r){"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var n=r(0),a=r(7),o=r(39),s=r(38),l=r(40),d=r(9),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},u=n.a.Object.extend({layerName:null,renderLayerClass_dom:null,renderLayerMixin:{},init:function(e){this._super(),this.renderLayerMixin=e},getRenderLayer:function(e,t){return this["renderLayerClass_"+e.approach].extend(this.renderLayerMixin,{layerName:this.layerName}).create(e,t)}}),h=u.extend({renderLayerClass_dom:o.a}),p=u.extend({renderLayerClass_dom:s.a}),f=u.extend({renderLayerClass_dom:l.a}),m=n.a.Object.extend({staticMembers:{PhotoIngredient:h,InterpolatedVideoIngredient:p,VideoIngredient:f,computedStyle:a.a.computedStyle,getRecipeFromPlaybackStyle:function(e){return this._recipesByPlaybackStyle[e]},registerRecipeWithPlaybackStyle:function(e,t){this._recipesByPlaybackStyle=c({},this._recipesByPlaybackStyle,i({},t,e))}},correspondingPlaybackStyle:null,get name(){return"recipe_for_playbackStyle_"+this.correspondingPlaybackStyle},minimumShortenedDuration:0,spontaneousFinishDuration:0,ingredients:null,requiresInterpolation:!1,init:function(e){for(var t in this.ingredients=[],this._super(),e)if(e.hasOwnProperty(t)){var r=e[t];this[t]=r,u.isClassFor(r)&&(r.layerName=t,this.ingredients.push(r))}this.correspondingPlaybackStyle&&m.registerRecipeWithPlaybackStyle(this,this.correspondingPlaybackStyle)},getRenderLayers:function(e){for(var t,r=[],i=0;t=this.ingredients[i];i++)t.isDisabled||r.push(t.getRenderLayer(e,this));return r},beginFinishingPlaybackEarly:function(e){e.isPlaying?e.duration=Math.min(e.duration,Math.max(this.minimumShortenedDuration,e.currentTime+this.spontaneousFinishDuration)):e.wantsToPlay=!1},calculateAnimationDuration:function(e,t,r){return t||0},continuePlayback:function(e){e.currentTime<e.duration?e._rafID=requestAnimationFrame(e._nextFrame.bind(e)):(e.stop(),e.dispatchEvent(r.i(d.f)()))},register:function(){},requestMoreCompatibleRecipe:function(){return this}});t.a=m},function(e,t,r){"use strict";var i=r(12),n={debug:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];i.a&&console.debug.apply(console,arguments)},log:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];i.a&&console.log.apply(console,arguments)},info:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];i.a&&console.info.apply(console,arguments)},warn:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];console.warn.apply(console,arguments)},error:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];console.error.apply(console,arguments)}};t.a=n},function(e,t,r){"use strict";var i;r.d(t,"a",(function(){return i})),function(e){e[e.FAILED_TO_DOWNLOAD_RESOURCE=0]="FAILED_TO_DOWNLOAD_RESOURCE",e[e.PHOTO_FAILED_TO_LOAD=1]="PHOTO_FAILED_TO_LOAD",e[e.VIDEO_FAILED_TO_LOAD=2]="VIDEO_FAILED_TO_LOAD"}(i||(i={}))},function(e,t,r){"use strict";var i=r(8),n=r(0),a=i.a.extend({_hasBeenDisposed:!1,staticMembers:{computedStyle:function(e){return e._lpk_isComputedStyle=!0,e}},recipe:n.a.observableProperty(),renderer:n.a.observableProperty(),duration:n.a.proxyProperty("renderer.duration"),canRender:n.a.observableProperty(!1),computedStyles:n.a.property((function(){return[]})),displayWidth:0,displayHeight:0,shouldLoop:!1,init:function(e,t){for(var r in this.renderer=e,this.recipe=t,this._super(),this){var i=this[r];i&&i._lpk_isComputedStyle&&this.computedStyles.push({styleKey:r,getter:i})}},updateSize:function(e,t){if(!arguments.length)return this.updateSize(this.displayWidth,this.displayHeight);this.displayWidth=e,this.displayHeight=t},setUpForRender:function(){},tearDownFromRender:function(){this.reduceMemoryFootprint()},reduceMemoryFootprint:function(){},_canRenderDidChange:n.a.observer("canRender","renderer._lastRecipe",(function(e,t){var r=this.recipe,i=this.renderer;this._hasBeenDisposed||(!e||!t||t!==r&&i._hasInitialized?this.tearDownFromRender():(i._hasInitialized=!0,this.setUpForRender(),this.updateSize()))})),prepareToRenderAtTime:function(){return!0},canRenderAtTime:function(){return!0},renderAtTime:function(e){if(!arguments.length)return this.renderAtTime(this._lastRenderedTime);this._lastRenderedTime=e;for(var t,r=0;t=this.computedStyles[r];r++)t.value=t.getter.call(this,e);this.renderStyles(this.computedStyles)},renderStyles:function(e){},dispose:function(){this.detach(),this._hasBeenDisposed=!0}});t.a=a},function(e,t,r){"use strict";var i=r(0),n=i.a.Object.extend({element:null,_lpk_isView:!0,tagName:"div",eventDispatchingElement:null,init:function(e){e?this.element=e:this.tagName&&(this.element=document.createElement(this.tagName)),this._super()},attachInto:function(e,t,r){this.element?(t||(t=e.element),r&&r._lpk_isView&&(r=r.element),r?t.insertBefore(this.element,r):t.appendChild(this.element),this.parentView=e):this.parentView=e},detach:function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.parentView=null},dispatchEvent:function(e){var t=this.eventDispatchingElement||this.element;if(!t)throw"Cannot dispatch an event from a view with no DOM element.";t.dispatchEvent.call(t,e)},parentView:i.a.observableProperty(null)});t.a=n},function(e,t,r){"use strict";function i(e){return function(t){return new CustomEvent(e,{detail:t})}}var n=r(14);r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"f",(function(){return s})),r.d(t,"e",(function(){return l})),r.d(t,"c",(function(){return d})),r.d(t,"d",(function(){return c})),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r}if("function"==typeof window.CustomEvent)return!1;e.prototype=window.Event.prototype,window.CustomEvent=e}();var a=i(n.a.LIVEPHOTOSKIT_LOADED),o=i("canplay"),s=i("ended"),l=i("error"),d=i("photoload"),c=i("videoload")},function(e,t,r){"use strict";var i=r(0),n=["ar-sa","ca-cs","cs-cz","da-dk","nl-nl","pt-br","pt-pt","no-no","el-gr","en-us","fi-fi","fr-fr","de-de","he-il","hr-hr","hu-hu","id-id","it-it","ja-jp","ko-kr","ms-my","pl-pl","ro-ro","ru-ru","zh-cn","zh-tw","sk-sk","es-es","sv-se","th-th","tr-tr","uk-ua","vi-vi"],a={"es-419":"es-es",pt:"pt-pt",no:"no-no",nb:"no-no",nn:"no-no",zh:"zh-cn","zh-Hans":"zh-cn","zh-Hant":"zh-tw","zh-HK":"zh-tw","zh-MO":"zh-tw","zh-SG":"zh-cn"},o={};for(var s in a){var l=a[s],d=o[l]||[];o[l]=[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(d),[s])}for(var c={},u=0;u<n.length;u++){var h=n[u];try{var p=r(21)("./"+h+".lproj/strings.json"),f=h.split("-")[0],m=o[h];if(c[h]=p,c[f]||(c[f]=p),m)for(var y in m)c[y]=p}catch(e){}}var v=function(e){var t=g.locale,r=g.strings;return(r[t]||r["en-us"])[e]||""},g=i.a.Object.extend({locale:i.a.observableProperty({get:function(e){return e||window.navigator.language},set:function(e){return e}}),getString:v,strings:c}).create();t.a=g},function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e){var t=parseFloat(e);if(+t===t)return t;var r="true"===e||"false"!==e&&void 0;return!!r===r?r:e}var a=r(27),o=r(0),s=r(5),l=r(1),d=r(3),c=r(12);r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return P})),r.d(t,"c",(function(){return C}));var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},h="property",p={play:"method",pause:"method",stop:"method",toggle:"method",beginFinishingPlaybackEarly:"method",isPlaying:"read_only_property",wantsToPlay:"read_only_property",currentTime:"read_only_property",renderedTime:"read_only_property",duration:"read_only_property",autoplay:h,caption:h,playbackStyle:h,preloadedEffectType:h,updateSize:"method",photoWidth:"read_only_property",photoHeight:"read_only_property",videoWidth:"read_only_property",videoHeight:"read_only_property",effectType:h,proactivelyLoadsVideo:h,photoSrc:h,photoMimeType:h,videoSrc:h,videoMimeType:h,metadataVideoSrc:h,photo:h,video:h,photoTime:h,frameTimes:h,videoRotation:h,canPlay:"read_only_property",loadProgress:"read_only_property",errors:"read_only_property",showsNativeControls:h,observe:"method"};delete p.observe;var f=function(){var e=[];for(var t in p)p.hasOwnProperty(t)&&e.push(t);return e}(),m={},y=f.map((function(e){var t="data-"+o.a.String.hyphenate(e);return m[t]=e,t})),v=f.map((function(e){return p[e]})),g={enumerable:!1,configurable:!1,writable:!1},_={enumerable:!1,configurable:!1},b=function(e,t){if(!e)return s.a.warn("LivePhotosKit.augmentElementAsPlayer requires a target element to augment."),null;if("IMG"===e.tagName){var r=document.createElement("div"),i=e.parentNode,b=e.getAttribute("src"),P=e.getAttribute("photo-src")||b;e.removeAttribute("src"),e.setAttribute("data-photo-src",P);for(var C=e.attributes,S=0;S<C.length;S++){var w=C[S],x=w.nodeName,T=w.value;r.setAttribute(x,T)}i.insertBefore(r,e),i.removeChild(e),e=r}var O=void 0,I=void 0,j=e;if(j.__isLPKPlayer__)return j;g.value=!0,Object.defineProperty(j,"__isLPKPlayer__",g);var L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c.a&&!e.videoSrc&&e.photoSrc?s.a.warn("Changing a `photoSrc` independent of its `videoSrc` can result in unexpected behavior"):c.a&&e.videoSrc&&!e.photoSrc&&s.a.warn("Changing a `videoSrc` independent of its `photoSrc` can result in unexpected behavior");var t=I?{photoSrc:I.photo,videoSrc:I.videoSrc,effectType:I.effectType,autoplay:I.autoplay,proactivelyLoadsVideo:I.proactivelyLoadsVideo}:{},r=u({},t,e),i=(r.photoSrc,r.videoSrc,r.effectType),n=r.autoplay,f=r.proactivelyLoadsVideo;O=o.a.objectPool.get(),r.preloadedEffectType=i,r.autoplay=!1!==n;var m=i||d.a.default;for(var y in d.a.toPlaybackStyle(m)===l.a.LOOP&&r.autoplay&&(c.a&&!f&&s.a.warn("When using a looping asset you should set `proactivelyLoadsVideo` to `true` unless `autoplay` is also set to `false`"),r.proactivelyLoadsVideo=!0),r)Object.prototype.hasOwnProperty.call(r,y)&&(p[y]===h?O[y]=r[y]:s.a.warn("LivePhotosKit.Player: Initial configuration for `"+y+"` was ignored, because the property is not a writable property."));if(I)for(var v in O){var g=O[v];I[v]=g}else I=a.a.create(j,O);o.a.objectPool.ret(O),O=null};j.setProperties=L,j.setProperties(t);for(var F=0;(D=f[F])&&(R=v[F]);F++)!function(e,t,r){"method"===r?(g.value=I[t].bind(I),Object.defineProperty(j,t,g)):(_.set=r===h?function(e){I[t]=e}:function(){},_.get=function(){return I[t]},Object.defineProperty(j,t,_))}(0,D,R);g.value=function(){var e=arguments.length,t=arguments[e-1];if(e<1||!(t instanceof Function))throw new Error("Invalid arguments passed to `observe`. Form: key, [key, …], callback.");for(var r=o.a.arrayPool.get(),i=0,n=e;i<n;i++)r[i]=arguments[i];for(var a=0,s=e-1;a<s;a++){var l=p[r[a]];if(l!==h&&"read_only_property"!==l)throw new Error("Can't observe non-observable property '"+r[a]+"'.")}r[e-1]=t.bind(this);var d=I.observe.apply(I,r);return o.a.arrayPool.ret(r),new k(d,I)},Object.defineProperty(j,"observe",g);var D,R,M;for(F=0;(D=f[F])&&(R=v[F])&&(M=y[F]);F++)if(R===h){var A=j.getAttribute(M);A&&("effectType"===D?I.preloadedEffectType=n(A):I[D]=n(A))}var E=j.setAttribute;g.value=function(e,t){var r=m[e];r?this[r]=n(t):E.apply(this,arguments)},Object.defineProperty(j,"setAttribute",g);var B=j.removeAttribute;g.value=function(e){var t=m[e];if(!t)return B.apply(this,arguments);this[t]=null},Object.defineProperty(j,"removeAttribute",g);for(var N,U,V,H=0;(N=f[H])&&(U=v[H])&&(V=y[H]);H++)(function(e,t,r,i){if(r!==h&&"read_only_property"!==r)return"continue";j.observe(t,(function(e){void 0===e||null===e||"string"!=typeof e&&+e!==e&&"boolean"!=typeof e?B.call(this,i):E.call(this,i,String(e))}))})(0,N,U,V);return""!==j.getAttribute("data-live-photo")&&j.setAttribute("data-live-photo",""),g.value=I,Object.defineProperty(j,"__internalLPKPlayer__",g),g.value=void 0,_.set=_.get=void 0,j},P=function(e){var t=document.createElement("div");return b(t,e)},C=function(e,t){if(arguments.length>=3||"string"==typeof arguments[0]&&"string"==typeof arguments[1])throw new Error("LivePhotosKit.Player: Creating a new Player using arguments of the form 'photoSrc, videoSrc, [targetElement, [options]]' is no longer supported. Instead, use the new signature, '[targetElement, [options]]");return s.a.warn("The `LivePhotosKit.Player` method will be deprecated in an upcoming release. Please use the `LivePhotosKit.augementElementAsPlayer` or `LivePhotosKit.createPlayer` methods, instead."),e?b(e,t):P(t)},k=function e(t,r){i(this,e),this.fire=function(){r[t.keyOnObject]()},this.disconnect=function(){t.unregisterFromDefinition(r)},this.connect=function(){t.registerOnDefinition(r)}}},function(e,t,r){"use strict";var i=/_lpk_debug=true/i;t.a=i.test(window.location.search)||i.test(window.location.hash)},function(e,t,r){"use strict";var i={setUpForRender:function(){this.attachInto(this.renderer)},tearDownFromRender:function(){this.detach(),this._super()},renderStyles:function(e){for(var t,r=this.element,i=r.style,n=0;t=e[n];n++){var a=t,o=a.styleKey,s=a.value;i[o]!==s&&(i[o]=s)}}};t.a=i},function(e,t,r){"use strict";var i=r(55),n=r(56),a=r(57);t.a={APP_NAME:"LivePhotosKit",BUILD_NUMBER:i.a,MASTERING_NUMBER:n.a,FEEDBACK_URL_PREFIX:"https://feedbackws.icloud.com",LIVEPHOTOSKIT_LOADED:"livephotoskitloaded",URL_PREFIX:"https://cdn.apple-livephotoskit.com",VERSION:a.a}},function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=r(3),a=r(50),o=r(18),s=r(10),l=r(1);r.d(t,"a",(function(){return u}));var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),c={element:null,label:"",labelPadding:6,leftPadding:5,height:25,backgroundColor:"rgba(255, 255, 255, 0.7)",itemColor:"rgb(0, 0, 0)",fontSize:9,borderRadius:5,dottedRadius:8.5,innerRadius:5.25,zIndex:4,shouldAnimateProgressRing:!0,progressRingAnimationSpeed:300,shouldAddEventListeners:!0,effectType:null,playbackStyle:null,configurePlayAction:r.i(a.a)(),configureStopAction:r.i(a.a)()},u=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this._setInstanceProps(r),this._createCanvas(),this.redraw(),this._addEventListeners(),s.a.observe("locale",(function(){return t.updateBadgeText()}))}return d(e,[{key:"attachPlayerInstance",value:function(e){e.attachBadgeView(this),this.updateBadgeText(e.effectType)}},{key:"redraw",value:function(){var e=this.progress;e>0&&this.shouldAnimateProgressRing?this._animateProgressRing():this._redraw(e)}},{key:"reset",value:function(){var e=this._requestedFrame;e&&cancelAnimationFrame(e),this._progress=0,this._previousProgress=0,this.redraw()}},{key:"appendTo",value:function(e){e.appendChild(this.element)}},{key:"updateAriaLabel",value:function(){var e=n.a.toLocalizedString(this.effectType),t=s.a.getString("VideoEffects.Badge");this.element.setAttribute("aria-label",t+": "+e)}},{key:"updateBadgeText",value:function(e){e?this.effectType=e:e=this.effectType,this.label=e?n.a.toBadgeText(e):"",this.playbackStyle=n.a.toPlaybackStyle(e),this.updateAriaLabel(),this._redraw()}},{key:"_createCanvas",value:function(){var e=this.element;if(e){if("canvas"!==e.tagName.toLowerCase())throw new Error("Backing element for LivePhotoBadge needs to be an HTMLCanvasElement.")}else e=this.element=document.createElement("canvas");e.setAttribute("role","button"),this.updateAriaLabel(),e.classList.add("lpk-badge"),this._context=e.getContext("2d")}},{key:"_setCanvasSize",value:function(){var e=this.element,t=o.a(),r=this.height,i=this.width;e.height=r*t,e.width=i*t,e.style.height=r+"px",e.style.width=i+"px"}},{key:"_setInstanceProps",value:function(e){var t={};for(var r in c)t.hasOwnProperty.call(c,r)&&(this[r]=e.hasOwnProperty(r)?e[r]:c[r]);this.defaultProps=c}},{key:"_redraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=(this.element,this.label),r=t.toLowerCase()||n.a.default;this._setCanvasSize(),this._context.clearRect(0,0,this.width,this.height),this._drawBackground(),this._drawLabel(),this.shouldShowError||(this._drawInnerCircle(),n.a.toPlaybackStyle(r)!==l.a.LOOP?this._drawPlayArrow():this._drawLoopCircle()),this.shouldShowError?(this._drawProgressRing(1),this._drawErrorSlash()):this.progress>0?this._drawProgressRing(e):this._drawDottedCircle()}},{key:"_drawBackground",value:function(){var e=o.a(),t=this._context,r=this.borderRadius*e,i=this.width*e,n=this.height*e;t.beginPath(),t.moveTo(r,0),t.lineTo(i-r,0),t.quadraticCurveTo(i,0,i,r),t.lineTo(i,n-r),t.quadraticCurveTo(i,n,i-r,n),t.lineTo(r,n),t.quadraticCurveTo(0,n,0,n-r),t.lineTo(0,r),t.quadraticCurveTo(0,0,r,0),t.closePath(),t.fillStyle=this.backgroundColor,t.fill()}},{key:"_drawDottedCircle",value:function(){for(var t=e.numberOfDots,r=this.dottedRadius*o.a(),i=0;i<t;i++){var n=this.x0+r*Math.cos(2*Math.PI*i/t),a=this.y0+r*Math.sin(2*Math.PI*i/t);this._drawDot(n,a)}}},{key:"_drawDot",value:function(e,t){var r=this._context,i=1===o.a()?1:1.25;r.beginPath(),r.arc(e,t,i,0,2*Math.PI),r.fillStyle=this.itemColor,r.fill()}},{key:"_drawInnerCircle",value:function(){var e=o.a(),t=this._context,r=this.innerRadius*e;t.beginPath(),t.arc(this.x0,this.y0,r,0,2*Math.PI),t.lineWidth=1===e?1.25:1.5,t.strokeStyle=this.itemColor,t.stroke()}},{key:"_drawPlayArrow",value:function(){var e=o.a(),t=this._context,r=5*e,i=4*e,n=this.x0+.5*e,a=this.y0;t.beginPath(),t.moveTo(n-i/2,a-r/2),t.lineTo(n+i/2,a),t.lineTo(n-i/2,a+r/2),t.fillStyle=this.itemColor,t.fill()}},{key:"_drawLoopCircle",value:function(){var e=o.a(),t=this._context,r=2*e;t.beginPath(),t.arc(this.x0,this.y0,r,0,2*Math.PI),t.fillStyle=this.itemColor,t.fill()}},{key:"_drawLabel",value:function(){var e=o.a(),t=this._context,r=(this.leftPadding+2*this.dottedRadius+this.labelPadding)*e,i=(this.height/2+4.5)*e;t.fillStyle=this.itemColor,t.font=this.fontStyle,t.fillText(this.label,r,i)}},{key:"_drawProgressRing",value:function(e){var t=o.a(),r=this._context,i=this.dottedRadius*t,n=2*Math.PI*.75,a=(.75+e)*(2*Math.PI);r.beginPath(),r.arc(this.x0,this.y0,i,n,a,!1),r.lineWidth=1.5*t,r.strokeStyle=this.itemColor,r.stroke()}},{key:"_drawErrorSlash",value:function(){var e=o.a(),t=this._context,r=this.dottedRadius*e,i=r*Math.sqrt(2)/2;t.beginPath(),t.moveTo(this.x0+i,this.y0+i),t.lineTo(this.x0-i,this.y0-i),t.lineWidth=1.5*e,t.strokeStyle=this.itemColor,t.stroke()}},{key:"_animateProgressRing",value:function(){var e=this,t=this.progress,r=this._previousProgress||0,i=Math.abs(t-r),n=t<r;n&&(t=r,r=this.progress);for(var a=i*this.progressRingAnimationSpeed,o=a/(1e3/60),s=i/o,l=[],d=0,c=o;d<c;d++)l.push(r+d*s);l[l.length-1]=t,n&&l.reverse(),function t(){var r=l.shift();e._redraw(r),l.length&&(e._requestedFrame=window.requestAnimationFrame(t)),1===r&&window.setTimeout((function(){e.progress=0}),.25*e.progressRingAnimationSpeed)}()}},{key:"_addEventListeners",value:function(){var e=this,t=this.element,r=void 0;t.addEventListener("mouseup",(function(){r=window.setTimeout((function(){e.configurePlayAction()}),0)})),t.addEventListener("mouseenter",(function(){r=window.setTimeout((function(){e.configurePlayAction()}),0)})),t.addEventListener("mouseleave",(function(){r&&window.clearTimeout(r),e.configureStopAction()}))}},{key:"width",get:function(){var e=this._context;if(!e)return 0;var t=this.dottedRadius,r=this.fontStyle,i=this.label,n=this.labelPadding,a=this.leftPadding;e.font=r;var s=e.measureText(i);this._textMetrics=s;var l=i.length>0?s.width:0;return this._width=(l>2?a:-2)+2*t+2*n+Math.ceil(l/o.a())}},{key:"fontStyle",get:function(){return this.fontSize*o.a()+'pt/1 system, -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica'}},{key:"x0",get:function(){return(this.dottedRadius+this.leftPadding)*o.a()}},{key:"y0",get:function(){return this.height/2*o.a()}},{key:"progress",set:function(e){"number"==typeof e&&(this._previousProgress=this._progress,this._progress=e,this.redraw())},get:function(){return this._progress}},{key:"shouldShowError",set:function(e){this._shouldShowError=!!e,this._redraw(this.progress)},get:function(){return this._shouldShowError}}],[{key:"numberOfDots",get:function(){return 1===o.a()?17:26}}]),e}()},function(e,t,r){"use strict";var i=r(30),n=r(0),a=r(6),o=i.a.extend({mimeType:n.a.observableProperty({dependencies:["_mimeTypeFromXHR"],get:function(e){return this._mimeTypeFromXHR||e||null}}),_mimeTypeFromXHR:n.a.observableProperty(),requiresMimeTypeForRawArrayBufferSrc:!0,exposedMimeTypeKeyForErrorStrings:"mimeType",exposedSrcKeyForErrorStrings:"src",abortCurrentLoad:function(){this.__xhr&&(this._detachXHR(),this._xhr.abort()),this._mimeTypeFromXHR=null,this.abortCurrentSecondaryLoad()},loadSrc:function(e){if("string"==typeof e){this._mimeTypeFromXHR=null,this._attachXHR();var t=this._xhr;t.open("GET",e),t.responseType="arraybuffer",t.send(null)}else if(e instanceof ArrayBuffer){if(!this.mimeType&&this.requiresMimeTypeForRawArrayBufferSrc)throw new Error("MIME Type must be assigned to `"+this.exposedMimeTypeKeyForErrorStrings+"` prior to assigning a raw ArrayBuffer to `"+this.exposedSrcKeyForErrorStrings+"`.");this.beginSecondaryLoad(e,this.mimeType)}},get _xhr(){var e=this.__xhr;return e||(e=this.__xhr=new XMLHttpRequest),e},_detachXHR:function(){var e=this._xhr;e.removeEventListener("progress",this._xhrProgress),e.removeEventListener("readystatechange",this._xhrReadyStateChanged)},_attachXHR:function(){var e=this._xhr;e.addEventListener("progress",this._xhrProgress),e.addEventListener("readystatechange",this._xhrReadyStateChanged)},_xhrReadyStateChanged:function(){if("loading"===this.state){if(this._xhr.readyState>=2&&200!==this._xhr.status){var e=new Error("Failed to download resource from URL assigned to '"+this.exposedSrcKeyForErrorStrings+"'.");return e.errCode=a.a.FAILED_TO_DOWNLOAD_RESOURCE,this.loadDidFail(e)}return 4===this._xhr.readyState&&200===this._xhr.status?this._xhrLoadDidFinish():void 0}},_xhrProgress:function(e){if(e&&e.total){var t=(+e.loaded||0)/e.total;+t===t&&(this.progress=Math.max(0,Math.min(1,t)))}},_xhrLoadDidFinish:function(){this._mimeTypeFromXHR=this._xhr.getResponseHeader("Content-Type"),this.beginSecondaryLoad(this._xhr.response,this.mimeType)},beginSecondaryLoad:function(e,t){this._defaultSecondaryLoadTimeout=setTimeout(this.loadDidSucceed.bind(this,e),0)},abortCurrentSecondaryLoad:function(){this._defaultSecondaryLoadTimeout&&(clearTimeout(this._defaultSecondaryLoadTimeout),this._defaultSecondaryLoadTimeout=null)},init:function(){this._xhrReadyStateChanged=this._xhrReadyStateChanged.bind(this),this._xhrProgress=this._xhrProgress.bind(this),this._super()}});t.a=o},function(e,t,r){"use strict";var i=r(2);t.a=i.a.isEdge||i.a.isIE},function(e,t,r){"use strict";function i(){l.forEach((function(e){return e()}))}function n(e){l.push(e)}function a(){return window.devicePixelRatio}function o(){return Math.ceil(a())}t.b=n,t.a=o;var s=void 0,l=[];!function(){window.matchMedia&&(s=window.matchMedia("only screen and (-webkit-min-device-pixel-ratio:1.3),only screen and (-o-min-device-pixel-ratio:13/10),only screen and (min-resolution:120dpi)"),s.addListener(i))}()},function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),a=function(){function e(t){var r=this;i(this,e),this._k=[],this._v=[],t&&t._k.forEach((function(e){r.set(e,t.get(e))}))}return n(e,[{key:"_indexOfKey",value:function(e){return this._k.indexOf(e)}},{key:"get",value:function(e){var t=this._indexOfKey(e);return-1===t?void 0:this._v[t]}},{key:"set",value:function(e,t){var r=this._indexOfKey(e);return-1===r&&(r=this._k.push(e)-1),this._v[r]=t,this}},{key:"delete",value:function(e){var t=this._indexOfKey(e);return-1!==t&&(this._k.splice(t,1),this._v.splice(t,1),!0)}},{key:"clear",value:function(){this._k.length>0&&(this._k.length=0,this._v.length=0)}}]),e}();t.a=a},function(e,t,r){"use strict";function i(e){if(null===e)return"_null";if(void 0===e)return"_undefined";if(e.hasOwnProperty("_LPKGUID"))return e._LPKGUID;var t=void 0===e?"undefined":n(e);switch(t){case"number":Object.is(e,-0)&&(e="-0");case"string":case"boolean":return t+e;case"object":case"function":o++;var r=t+o;return a.value=r,Object.defineProperty(e,"_LPKGUID",a),r;default:throw"unrecognized object type"}}t.a=i;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a={value:"",enumerable:!1,writable:!1,configurable:!1},o=0},function(e,t,r){function i(e){return r(n(e))}function n(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var a={"./en-us.lproj/strings.json":22};i.keys=function(){return Object.keys(a)},i.resolve=n,e.exports=i,i.id=21},function(e,t){e.exports={"VideoEffects.Badge":"Badge","VideoEffects.Badge.Title.Loop":"Loop","VideoEffects.Badge.Title.Bounce":"Bounce","VideoEffects.Badge.Title.LongExposure":"Long Exposure"}},function(e,t,r){"use strict";var i=r(28),n=r(32),a=r(34),o=r(37),s=r(35),l=r(4),d=r(0),c=r(8),u=r(5),h=r(1);a.a.register(),o.a.register(),s.a.register();var p=c.a.extend({approach:"",autoplay:!0,caption:"",_hasInitialized:!1,_lastRecipe:null,recipe:d.a.observableProperty({get:function(){var e=l.a.getRecipeFromPlaybackStyle(this.playbackStyle);return this._setRecipe(e),e},set:function(e){this._setRecipe(e)}}),_setRecipe:function(e){e&&e!==this._lastRecipe&&(this._lastRecipe=e,this.setUpRenderLayers())},requestMoreCompatibleRecipe:function(){this.recipe=this.recipe.requestMoreCompatibleRecipe()},duration:d.a.observableProperty({dependencies:["recipe","provider.videoDuration","provider.photoTime"],get:function(e){var t=this.recipe,r=this.provider,i=r.photoTime,n=r.videoDuration;return t?t.calculateAnimationDuration(e,n,i):0}}),displayWidth:0,displayHeight:0,get backingWidth(){return Math.round(this.displayWidth*devicePixelRatio)},get backingHeight(){return Math.round(this.displayHeight*devicePixelRatio)},get renderLayerWidth(){return this.displayWidth},get renderLayerHeight(){return this.displayHeight},get videoWidth(){return this.videoDecoder.videoWidth},get videoHeight(){return this.videoDecoder.videoHeight},photoWidth:d.a.proxyProperty("photo.width"),photoHeight:d.a.proxyProperty("photo.height"),photo:d.a.proxyProperty("provider.photo"),video:d.a.proxyProperty("provider.video"),photoTime:d.a.proxyProperty("provider.photoTime"),frameTimes:d.a.proxyProperty("provider.frameTimes"),effectType:d.a.proxyProperty("provider.effectType"),preloadedEffectType:d.a.proxyProperty("provider.preloadedEffectType"),playbackStyle:d.a.proxyProperty("provider.playbackStyle"),currentTime:d.a.observableProperty({defaultValue:0,dependencies:["duration"],get:function(e){return Math.min(this.duration||0,Math.max(0,e||0))},didChange:function(e){this.prepareToRenderAtTime(e)}}),canRenderCurrentTime:d.a.observableProperty({readOnly:!0,dependencies:["currentTime"],get:function(){return this.canRenderAtTime(this.currentTime)}}),_currentTimeRenderObserver:d.a.observer("currentTime","canRenderCurrentTime",(function(e,t){t&&(this.renderedTime=e)})),renderedTime:d.a.observableProperty({defaultValue:0,didChange:function(e){this.renderAtTime(e),this.currentTime=e}}),areAllRenderLayersPrepared:d.a.observableProperty({defaultValue:!1}),isFullyPreparedForPlayback:d.a.observableProperty({readOnly:!0,dependencies:["video","areAllRenderLayersPrepared","photoTime","frameTimes","playbackStyle"],get:function(){return Boolean(this.video&&this.areAllRenderLayersPrepared&&(this.photoTime||this.playbackStyle!==h.a.HINT)&&Array.isArray(this.frameTimes))}}),cannotRenderDueToMissingPhotoTimeOrFrameTimes:d.a.observableProperty({readOnly:!0,dependencies:["video","areAllRenderLayersPrepared","photoTime","frameTimes","playbackStyle"],get:function(){return Boolean(this.video&&this.areAllRenderLayersPrepared&&(!this.photoTime&&this.playbackStyle===h.a.HINT||!Array.isArray(this.frameTimes)))}}),renderLayers:d.a.property((function(){return[]})),videoDecoder:d.a.observableProperty((function(){return this._videoDecoderClass.create({owner:this})})),_videoDecoderClass:i.a.extend({owner:d.a.observableProperty(),provider:d.a.proxyProperty("owner.provider")}),provider:d.a.observableProperty((function(){return n.a.create()})),init:function(){this._super(),this.element.className=((this.element.className||"")+" lpk-live-photo-renderer").trim(),this.element.style.position="absolute",this.element.style.overflow="hidden",this.element.style.textAlign="left"},updateSize:function(e,t){if(arguments.length){this.displayWidth=e=Math.round(e),this.displayHeight=t=Math.round(t),this.element.style.width=e+"px",this.element.style.height=t+"px";for(var r,i=0;r=this.renderLayers[i];i++)r.updateSize(this.renderLayerWidth,this.renderLayerHeight)}else this.displayWidth&&this.displayHeight&&this.updateSize(this.displayWidth,this.displayHeight)},_imageOrVideoDidEnterOrLeave:d.a.observer("videoDecoder.canProvideFrames","photo",(function(){this.prepareToRenderAtTime(this.currentTime)})),prepareToRenderAtTime:d.a.boundFunction((function(e){this.propertyChanged("canRenderCurrentTime");for(var t,r=!0,i=0;t=this.renderLayers[i];i++)r=t.prepareToRenderAtTime(e)&&r;this.areAllRenderLayersPrepared=r})),canRenderAtTime:function(e){if(0===e)return!0;if(!this.duration&&e)return!1;for(var t,r=!0,i="",n=0;t=this.renderLayers[n];n++)t.canRenderAtTime(e)||(r=!1,i+=(i?", ":"Cannot render; waiting for ")+t.layerName);return i&&u.a.log(i+"."),r},renderAtTime:function(e){if(this.duration)for(var t,r=0;t=this.renderLayers[r];r++)t.renderAtTime(e)},getNewRenderLayers:function(){return this.recipe.getRenderLayers(this)},setUpRenderLayers:function(){var e=this.renderLayers;e&&this._cleanUpRenderLayers(e),this.renderLayers=this.getNewRenderLayers(),this.updateSize(),this.currentTime=0,this.prepareToRenderAtTime(0)},_cleanUpRenderLayers:function(e){for(var t,r=0;t=e[r];r++)t.dispose(),t.tearDownFromRender()},reduceMemoryFootprint:function(){for(var e,t=0;e=this.renderLayers[t];t++)e.reduceMemoryFootprint()},_clearRetainedFramesWhenNecessary:d.a.observer("provider.videoRotation","provider.frameTimes",(function(){this.reduceMemoryFootprint(),this.prepareToRenderAtTime(this.currentTime)}))});t.a=p},function(e,t,r){"use strict";var i=r(23),n=i.a.extend({approach:"dom"});t.a=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(14),n=r(9),a=r(10),o=r(11);r.d(t,"augmentElementAsPlayer",(function(){return o.a})),r.d(t,"createPlayer",(function(){return o.b})),r.d(t,"Player",(function(){return o.c}));var s=r(6);r.d(t,"Errors",(function(){return s.a}));var l=r(15);r.d(t,"LivePhotoBadge",(function(){return l.a}));var d=r(1);r.d(t,"PlaybackStyle",(function(){return d.a})),r.d(t,"Localization",(function(){return c})),r.d(t,"BUILD_NUMBER",(function(){return u})),r.d(t,"MASTERING_NUMBER",(function(){return h})),r.d(t,"VERSION",(function(){return p})),r.d(t,"LIVEPHOTOSKIT_LOADED",(function(){return f}));var c={get locale(){return a.a.locale},set locale(e){a.a.locale=e}},u=i.a.BUILD_NUMBER,h=i.a.MASTERING_NUMBER,p=i.a.VERSION,f=i.a.LIVEPHOTOSKIT_LOADED,m="undefined"!=typeof window&&"undefined"!=typeof document;if(m){var y=window.document;if(setTimeout((function(){return y.dispatchEvent(r.i(n.a)())})),y.styleSheets&&document.head){for(var v=null,g=null,_=0;_<y.styleSheets.length;++_)try{var b=y.styleSheets[_];if(b.cssRules)for(var P=0;P<b.cssRules.length;++P){var C=b.cssRules[P];if(-1!==C.cssText.indexOf(".lpk-live-photo-player")){v=C;break}}if(v){g=b;break}}catch(e){if("SecurityError"!==e.name&&"Access is denied."!==e.message.substring(0,17)&&"Member not found."!==e.message.substring(0,17))throw e}if(!g){var k=document.createElement("style");k.type="text/css",document.head.appendChild(k),g=k.sheet}var S="user-select: none;-khtml-user-select: none; -moz-user-select: none;-ms-user-select: none;-webkit-touch-callout: none; -webkit-user-select: none;";g.addRule?g.addRule(".lpk-live-photo-player",S):g.insertRule&&g.insertRule(".lpk-live-photo-player {"+S+"}",0)}}if(m&&document.querySelectorAll instanceof Function){var w=function(){I=!0,Array.prototype.forEach.call(document.querySelectorAll("[data-live-photo]"),(function(e){return r.i(o.a)(e)}))},x=function(){!I&&T&&O&&w()},T=/interactive|complete|loaded/.test(document.readyState),O=!!window.LivePhotosKit,I=!1;T||document.addEventListener("DOMContentLoaded",(function(){T=!0,x()})),O||document.addEventListener("livephotoskitloaded",(function(){O=!0,x()})),x()}},function(e,t,r){"use strict";var i=r(8),n=r(18),a=r(15);r.d(t,"a",(function(){return o}));var o=i.a.extend({badgeView:null,init:function(){var e=this;this._super(),this._createBadgeView(),n.b((function(){return e.badgeView.redraw()}))},_createBadgeView:function(){this.badgeView=new a.a,this.element.appendChild(this.badgeView.element);var e=this.badgeView.element.style;e.top="10px",e.left="10px",e.position="absolute",e.zIndex=4},updateToRendererLayout:function(e,t,r,i){var n=this.badgeView,a=n.element.style;a.left=e+10+"px",a.top=t+10+"px",a.right=""},redraw:function(){this.badgeView.redraw()}})},function(e,t,r){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function n(e){if(!e)return!1;try{e.appendChild(f),e.removeChild(f)}catch(e){return!1}return!0}var a=r(8),o=r(24),s=r(26),l=r(54),d=r(0),c=r(9),u=r(53),h=r(1),p=a.a.extend({staticMembers:{activeInstance:d.a.observableProperty(null)},renderer:d.a.observableProperty((function(){return o.a.create()})),showsNativeControls:d.a.observableProperty(!0),isPlaying:d.a.observableProperty(!1),wantsToPlay:d.a.observableProperty({defaultValue:!1,didChange:function(e){e&&(this.constructor.activeInstance=this)}}),canPlay:d.a.observableProperty({readOnly:!0,dependencies:["isPlaying","renderer.isFullyPreparedForPlayback"],get:function(){return this.isPlaying||this.renderer.isFullyPreparedForPlayback},didChange:function(e){e&&(this._hasHadCanPlay=!0,this.dispatchEvent(r.i(c.b)()),this.wantsToPlay&&this.play())}}),_generateErrorIfPlayedWithoutNecessaryMetadata:d.a.observer("renderer.cannotRenderDueToMissingPhotoTimeOrFrameTimes","wantsToPlay",(function(e){e&&this.wantsToPlay&&(this._cannotRenderDueToMissingPhotoTimeOrFrameTimesError=new Error("The `photoTime` and/or `frameTimes` values are missing. Provide them directly (or via `metadataVideoSrc`) if they cannot be parsed from the video.")),e||(this._cannotRenderDueToMissingPhotoTimeOrFrameTimesError=null)})),_cannotRenderDueToMissingPhotoTimeOrFrameTimesError:d.a.observableProperty(),_playerErrors:d.a.observableProperty({readOnly:!0,dependencies:["_cannotRenderDueToMissingPhotoTimeOrFrameTimesError"],get:function(){var e=this._cannotRenderDueToMissingPhotoTimeOrFrameTimesError;return e?[e]:null}}),_captionChanged:d.a.observer("caption",(function(e){var t="";e&&(t=": "+e),this.element.setAttribute("aria-label","Live Photo"+t)})),_effectTypeChanged:d.a.observer("effectType",(function(e){this.badgeView&&e&&this.updateBadgeText()})),errors:d.a.observableProperty({readOnly:!0,dependencies:["provider.errors","_playerErrors"],get:function(){var e=this.provider.errors,t=this._playerErrors,r=[];return e&&e.length&&r.push.apply(r,i(e)),t&&t.length&&r.push.apply(r,i(t)),r}}),lastError:d.a.observableProperty({dependencies:["provider.lastError"],get:function(e){return e||this.provider.lastError||null},didChange:function(e){e&&(this.throwError(e),this.stop())}}),playbackRate:d.a.proxyProperty("renderer.videoDecoder.playbackRate"),currentTime:d.a.proxyProperty("renderer.currentTime"),renderedTime:d.a.proxyProperty("renderer.renderedTime"),duration:d.a.proxyProperty("renderer.duration"),videoWidth:d.a.proxyProperty("renderer.videoWidth"),videoHeight:d.a.proxyProperty("renderer.videoHeight"),photoWidth:d.a.proxyProperty("renderer.photoWidth"),photoHeight:d.a.proxyProperty("renderer.photoHeight"),recipe:d.a.proxyProperty("renderer.recipe"),requiresInterpolation:d.a.proxyProperty("renderer.recipe.requiresInterpolation"),effectType:d.a.proxyProperty("provider.effectType"),preloadedEffectType:d.a.proxyProperty("renderer.preloadedEffectType"),playbackStyle:d.a.proxyProperty("renderer.playbackStyle"),provider:d.a.proxyProperty("renderer.provider"),proactivelyLoadsVideo:d.a.proxyProperty("provider.proactivelyLoadsVideo"),metadataVideoSrc:d.a.proxyProperty("provider.metadataVideoSrc"),photoMimeType:d.a.proxyProperty("provider.photoMimeType"),photoSrc:d.a.proxyProperty("provider.photoSrc"),photo:d.a.proxyProperty("provider.photo"),videoMimeType:d.a.proxyProperty("provider.videoMimeType"),videoSrc:d.a.proxyProperty("provider.videoSrc"),video:d.a.proxyProperty("provider.video"),photoTime:d.a.proxyProperty("provider.photoTime"),frameTimes:d.a.proxyProperty("provider.frameTimes"),videoRotation:d.a.proxyProperty("provider.videoRotation"),loadProgress:d.a.proxyProperty("provider.progress"),autoplay:d.a.proxyProperty("renderer.autoplay"),caption:d.a.proxyProperty("renderer.caption"),_isZeroSizeWarningLogged:d.a.observableProperty(!1),_renderWhenPossible:d.a.observer("renderer.video","renderer.photo",(function(){if(this._cannotRenderDueToMissingPhotoTimeOrFrameTimesError=null,this.updateSize(!0),!this._isZeroSizeWarningLogged){var e=this.element.getBoundingClientRect();0!==e.width&&0!==e.height||(console.warn("The LivePhotosKit Player located at position ("+e.left+", "+e.top+") in the viewport has either a zero width or zero height (or both) and will not render. To fix this, ensure that the Player has a style that will yield a non-zero width and height."),this._isZeroSizeWarningLogged=!0)}})),attachBadgeView:function(e){var t=this;this.badgeView=e,this.updateBadgeText(),e.configurePlayAction((function(){return t.play()})),e.configureStopAction((function(){return t.beginFinishingPlaybackEarly()}))},updateBadgeText:function(){this.badgeView.updateBadgeText(this.effectType)},nativeControls:d.a.observableProperty({readOnly:!0,dependencies:["showsNativeControls"],get:function(){var e=this;return this.showsNativeControls?this._nativeControls_cachedValue||(this._nativeControls_cachedValue=s.a.extend({owner:d.a.observableProperty(this),_slurpProgress:d.a.observer("owner.provider.progress",(function(e){this.badgeView&&(this.badgeView.progress=e)})),_slurpError:d.a.observer("owner.errors",(function(e){this.badgeView&&(this.badgeView.shouldShowError=!!e&&e.length>0)})),init:function(){this._super.apply(this,arguments),e.attachBadgeView(this.badgeView)}}).create()):null},didChange:function(e){this._nativeControls_previousValue&&this._nativeControls_previousValue.detach(),this._nativeControls_previousValue=e,e&&e.attachInto(this)}}),init:function(e,t){var i=this;if(e&&!n(e))throw"Any pre-existing element provided for use as a LivePhotosKit.Player must be able to append child DOM nodes.";for(var a in e&&e.childNodes.length&&(e.innerHTML=""),t)Object.prototype.hasOwnProperty.call(t,a)&&(this[a]=t[a]);switch(this._super(e),this.element.className.indexOf("lpk-live-photo-player")<0&&(this.element.className=this.element.className+" lpk-live-photo-player"),this.element.setAttribute("role","image"),r.i(u.a)(this.element,"position")||this.element.style.position){case"absolute":case"fixed":case"relative":break;default:this.element.style.position="relative"}switch(r.i(u.a)(this.element,"display")||this.element.style.display){case"block":case"inline-block":case"table":case"table-caption":case"table-column-group":case"table-header-group":case"table-footer-group":case"table-row-group":case"table-cell":case"table-column":case"table-row":break;default:this.element.style.display="inline-block"}this.renderer.attachInto(this),this.renderer.eventDispatchingElement=this.element,window.addEventListener("resize",this.updateSize),"ontouchstart"in document.documentElement&&(this.addEventListener("touchstart",(function(){return i.play()}),!1),this.addEventListener("touchend",(function(){return i.beginFinishingPlaybackEarly()}),!1))},play:function(){if(!this.isPlaying){var e=this.provider;e.video||(e.needsLoadedVideoForPlayback=!0),this.wantsToPlay=!0,this.canPlay&&(this.isPlaying=!0,this._lastFrameNow=Date.now(),this._nextFrame())}return this.isPlaying},pause:function(){this.isPlaying=!1,this.wantsToPlay=!1,this._cancelNextFrame()},stop:function(){this.pause(),this.currentTime=0,this.renderer.duration=NaN},toggle:function(){this.wantsToPlay?this.pause():this.play()},beginFinishingPlaybackEarly:function(){this.recipe.beginFinishingPlaybackEarly(this)},_stopWhenAnotherPlayerStarts:d.a.observer("_constructor.activeInstance",(function(e){e&&e!==this&&(this.stop(),this.renderer.reduceMemoryFootprint())})),_constructor:d.a.observableProperty((function(){return p})),_stopPlaybackWhenItemsLoadOrUnload:d.a.observer("video","photo",(function(){!this.isPlaying||this.playbackStyle===h.a.LOOP&&this.autoplay||this.stop()})),addEventListener:function(e,t,r){var i=this.element;i.addEventListener.call(i,e,t,r)},removeEventListener:function(e,t,r){var i=this.element;i.removeEventListener.call(i,e,t,r)},_nextFrame:function(){var e=Date.now(),t=(e-this._lastFrameNow)*this.playbackRate;this._lastFrameNow=e,this.currentTime===this.renderedTime&&(this.currentTime+=t/1e3),this.recipe&&this.recipe.continuePlayback(this)},_cancelNextFrame:function(){cancelAnimationFrame(this._rafID)},updateSize:d.a.boundFunction((function(e,t){if(this.photoWidth&&this.photoHeight){var i=!0===e?void 0:e,n=!0===e?e:void 0;if(isNaN(i)||isNaN(t)?(i=this.element.offsetWidth,t=this.element.offsetHeight):(i=Math.round(i),t=Math.round(t),this.element.style.width=i+"px",this.element.style.height=t+"px"),i&&t){if(this._lastUpdateChangeToken===(this._lastUpdateChangeToken=i+":"+t)&&!n)return!1;var a=r.i(l.a)(this.photoWidth,this.photoHeight,i,t),o=Math.ceil(a.height),s=Math.ceil(a.width),d=Math.floor(i/2-s/2),c=Math.round(t/2-o/2),u=this.renderer;u.element.style.top=c+"px",u.element.style.left=d+"px",u.updateSize(s,o),this.displayWidth=i,this.displayHeight=t,this.nativeControls&&this.nativeControls.updateToRendererLayout(d,c,s,o)}}})),_dispatchPhotoLoadEventOnNewPhoto:d.a.observer("photo",(function(e){e&&this.dispatchEvent(r.i(c.c)())})),_dispatchVideoLoadEventOnNewVideo:d.a.observer("video",(function(e){e&&this.dispatchEvent(r.i(c.d)())})),throwError:function(e){this.dispatchEvent(r.i(c.e)({error:e,errorCode:e.errCode}))}}),f=document.createElement("div");t.a=p},function(e,t,r){"use strict";function i(){f=!1}function n(){}function a(e,t){return-(e.importance-t.importance)||e.number-t.number}function o(e,t){for(var r=0,i=e.length,n=0;n<i-r;n++)if(e[n]===t&&(r++,n--),r){var a=n+1;e[a]=e[a+r]}return e.length-=r,e}var s=r(52),l=r(29),d=r(0),c=r(17),u=r(2),h=-1!==location.href.indexOf("_lpk_play_to_decode=true")||-1===location.href.indexOf("_lpk_play_to_decode=false")&&!u.a.isSafari&&!u.a.isIOS,p=-1!==location.href.indexOf("_lpk_persistent_frames=true")||(location.href.indexOf("_lpk_persistent_frames=false"),!1),f=!0,m=d.a.Object.extend({id:d.a.property((function(){return r.i(s.a)()})),provider:d.a.observableProperty(),video:d.a.proxyProperty("provider.video"),duration:d.a.proxyProperty("provider.videoDuration"),videoRotation:d.a.proxyProperty("provider.videoRotation"),frameTimes:d.a.proxyProperty("provider.frameTimes"),requiresInterpolation:d.a.proxyProperty("renderer.recipe.requiresInterpolation"),get frameCount(){var e=this.frameTimes;return e?e.length:0},shouldPrepareToSeek:!1,canProvideFrames:d.a.observableProperty({readOnly:!0,dependencies:["video"],get:function(){return!!this.video}}),videoWidth:d.a.observableProperty({readOnly:!0,dependencies:["video","videoRotation"],get:function(){var e=this.video;if(e)return this.videoRotation%180==0?e.videoWidth:e.videoHeight}}),videoHeight:d.a.observableProperty({readOnly:!0,dependencies:["video","videoRotation"],get:function(){var e=this.video;if(e)return this.videoRotation%180==0?e.videoHeight:e.videoWidth}}),playbackRate:d.a.observableProperty(1),_sendPlaybackRateToVideo:d.a.observer("playbackRate","video",(function(e,t){t&&(t.playbackRate=e)})),_pendingFrames:d.a.property((function(){return[]})),init:function(){this._largeCanvas=document.createElement("canvas"),this._largeContext=this._largeCanvas.getContext("2d"),this._super.apply(this,arguments)},_handleVideoChange:d.a.observer("video",(function(){var e=this.video,t=this._lastVideo;if(this._lastVideo=e,e!==t&&(t&&this.cleanUpOldVideo(t),e&&this.setUpNewVideo(e),e&&p))for(var r=c.a?1:0;this.frameTimes&&r<this.frameTimes.length;r++)this.getFrame(r).retain()})),setUpNewVideo:function(e){e.addEventListener("seeked",this._seeked),e.muted=!0},cleanUpOldVideo:function(e){e.removeEventListener("seeked",this._seeked),e.playbackRate=1,e.muted=!1,e.pause(),this._stopSeekingEntirely()},fractionalIndexForTime:function(e){if(e=Math.min(this.duration,Math.max(0,e)),isNaN(e))return e;var t=this.frameTimes,r=t.length,i=void 0;for(i=0;i<r&&t[i]<e;i++);i&&i--;var n=t[i],a=t[i+1];return a?i+Math.min(1,(e-n)/(a-n)):i},timeForFractionalIndex:function(e){if(e<=0)return 0;if(e>=this.frameTimes.length)return this.duration;var t=0|e,r=Math.ceil(e);if(t===r)return this.frameTimes[t];var i=this.frameTimes[t],n=r<this.frameTimes.length?this.frameTimes[r]:this.duration;return n?i+(e-t)*(n-i):i},getFrame:function(e,t){if(!this.frameTimes)throw"Attempted to get frame before ready.";if(isNaN(this.frameTimes[e]))throw"Frame number "+e+" is is not a frame in the video.";var r=l.a.getCached(this,e);return isNaN(t)||(r.importance=Math.max(r.importance,t)),r.readyState||(this._pendingFrames.push(r),this._pendingFrames.sort(a),r.didPend(),this._isSeeking||this._scheduleArtificialSeek()),r},peekFrame:function(e){var t=l.a.peekCached(this,e);return t&&2===t.readyState&&!t.lacksOwnPixelData?t:null},getNearestDecodedFrame:function(e){for(var t=Math.max(e,this.frameTimes.length-1-e),r=-1;++r<=t;){var i=this.peekFrame(e+r)||this.peekFrame(e-r);if(i)return i}return null},_scheduleArtificialSeek:function(){this._artificialSeekTimeout||(this._artificialSeekTimeout=setTimeout(this._seeked),this._artificialSeekRAFId=requestAnimationFrame(this._seeked))},_unscheduleArtificialSeek:function(){this._artificialSeekTimeout&&(clearTimeout(this._artificialSeekTimeout),this._artificialSeekTimeout=null,cancelAnimationFrame(this._artificialSeekRAFId),this._artificialSeekRAFId=null)},_stopSeekingEntirely:function(){this._unscheduleArtificialSeek(),this._isPlaying=!1,this._isSeeking=!1,this._expectedNextSeenFrameNumber=NaN,this.video&&this.video.pause()},_seeked:d.a.boundFunction((function(e){var t=this._pendingFrames;if((0!==t.length||this.requiresInterpolation)&&!(e instanceof Event&&e.target!==this.video)&&(e instanceof Event||this.video)){this._unscheduleArtificialSeek(),this._isSeeking=!1;var r=this.fractionalIndexForTime(this.video.currentTime);r|=0;for(var a,o=NaN,s=0;a=t[s];s++)if(a.number===r){o=r,a.didDecode(),this._removePendingFrame(a);break}var l=this._expectedNextSeenFrameNumber;if(this._expectedNextSeenFrameNumber=NaN,l<o)for(var d,c=0;d=t[c];c++)d.number>=l&&d.number<o&&(d.didGetSkipped(),this._removePendingFrame(d),c--);var u=t[0];if(!u)return this._isPlaying&&this.requiresInterpolation&&(this._isPlaying=!1,this.video.pause()),void(this._expectedNextSeenFrameNumber=NaN);var p=u.number>r&&u.number<=r+2&&f;if(h||(p=!1),p){if(!this._isPlaying){this._isPlaying=!0;try{var m=this.video.play();m&&m.then instanceof Function&&m.then(n,i)}catch(e){f=!1}}this._expectedNextSeenFrameNumber=u.number,this._scheduleArtificialSeek()}else this._isPlaying&&(this._isPlaying=!1,this.video.pause()),this._expectedNextSeenFrameNumber=NaN,this.video.currentTime=u.time+1e-4,this._isSeeking=!0}})),_frameWillDispose:function(e){this._removePendingFrame(e)},_removePendingFrame:function(e){o(this._pendingFrames,e),this._pendingFrames.length||this._unscheduleArtificialSeek()}});t.a=m},function(e,t,r){"use strict";function i(e){e.container=document.createElement("div"),e.container.frame=e,e.container.innerHTML='<div style="position:absolute; left:0; right:0; top:0; bottom:0; text-align:center; line-height:30px; color:white; text-shadow: black 0px 0px 4px,black 0px 0px 4px,black 0px 0px 4px,black 0px 0px 4px; font-family:HelveticaNeue-Light;"></div>',e.textBox=e.container.lastChild,e.container.insertBefore(e.image,e.textBox),e.image.style.position="absolute",e.container.style.cssText="position:relative; display:inline-block; border: 1px solid black;";var t=e._debug_aspect||(e._debug_aspect=e.videoDecoder&&(e.videoDecoder.videoWidth>e.videoDecoder.videoHeight?"landscape":"portrait"));e.container.style.width=e.image.style.width="landscape"===t?"40px":"30px",e.container.style.height=e.image.style.height="landscape"===t?"30px":"40px",document.body.appendChild(e.container)}var n=r(12),a=r(48),o=r(5),s=r(0),l=r(46),d=r(2);r.d(t,"a",(function(){return c}));var c=s.a.Object.extend(l.a,a.a,{staticMembers:{getPoolingCacheKey:function(e,t){return"f"+t+"_in_"+e.id}},container:null,image:null,_context:null,number:-1,time:-1,importance:0,videoDecoder:null,readyState:0,_poolingCacheKey:null,_debugShowInDOM:n.a,lacksOwnPixelData:!1,_postDispose:function(){this.image.width=this.image.height=0},get backingFrame(){return this.lacksOwnPixelData&&this.videoDecoder.getNearestDecodedFrame(this.number)||this},init:function(){this._postDispose=this._postDispose.bind(this);var e=this.image=document.createElement("canvas");this._context=this.image.getContext("2d"),this._super(),this._debugShowInDOM?i(this):h&&(h.appendChild(e),e.style.cssText="position: absolute; top: 0px; width:1px; height: 1px; display: inline-block;",e.style.left=u+++"px")},initFromPool:function(e,t){clearTimeout(this._postDisposalTimeout),this.videoDecoder=e,this.number=t,this.time=e.frameTimes[t],this._debugShowInDOM&&(this.textBox.innerHTML=this.number)},dispose:function(){this.resetReadiness(),this.videoDecoder._frameWillDispose(this),this.number=this.time=-1,this.importance=0,this.videoDecoder=null,this.readyState=0,this.lacksOwnPixelData=!1,this._postDisposalTimeout=setTimeout(this._postDispose,3e3),this.constructor._disposeInstance(this),this._debugShowInDOM&&(this.textBox.innerHTML="x",this.textBox.style.color="#FF0000",this._context.clearRect(0,0,this.image.width,this.image.height))},didPend:function(){this.readyState=1,this._debugShowInDOM&&(this.textBox.style.color="#FF8800")},didDecode:function(){this.obtainPixelData(),this.readyState=2,this.resolveReadiness(this),this._debugShowInDOM&&(this.textBox.style.color="#00FF00")},obtainPixelData:function(){var e=this.image,t=this._context,r=this.videoDecoder,i=r.videoRotation,n=r.videoWidth,a=r.videoHeight,o=i%180==0?n:a,s=i%180==0?a:n;e.width===n&&e.height===a||(e.width=n,e.height=a),d.a.isFirefox&&t.getImageData(0,0,1,1);for(var l=0;l<i;l+=90)t.translate(l%180?a:n,0),t.rotate(Math.PI/2);t.drawImage(r.video,0,0,o,s),t.setTransform(1,0,0,1,0,0)},didGetSkipped:function(){o.a.log("    Skipped decoding frame "+this.number+". Using nearest frame instead."),this.lacksOwnPixelData=!0,this.readyState=2,this.resolveReadiness(this),this._debugShowInDOM&&(this._context.fillStyle="red",this._context.fillRect(0,0,this.image.width,this.image.height),this.textBox.style.color="#00FF00")}}),u=0,h=function(){if(!d.a.isIE&&!d.a.isEdge)return null;var e=document.createElement("div");return e.style.cssText="top: 0px; left: 0px; width: 50px; height: 1px; overflow: hidden; position: absolute; z-index: 100000; opacity: 0.001; pointer-events: none;",document.body?document.body.appendChild(e):setTimeout((function(){return document.body.appendChild(e)}),0),e}()},function(e,t,r){"use strict";var i=r(0),n=i.a.Object.extend({state:i.a.observableProperty("unloaded"),validateResult:function(e){return!!e},loadSrc:function(e){},abortCurrentLoad:function(){},isSrcLoadAllowed:i.a.observableProperty(!0),_loadSrcOnceAllowed:i.a.observer("isSrcLoadAllowed",(function(e){if(e&&"unloaded"===this.state){var t=this.src;t&&(this.state="loading",this.loadSrc(t))}})),src:i.a.observableProperty({didChange:function(e){this._isWritingSrcDueToWritingOfResult||(this._isWritingResultDueToWritingOfSrc=!0,this.result=null,this._isWritingResultDueToWritingOfSrc=!1,this.abortCurrentLoad(),e&&this.isSrcLoadAllowed?(this.state="loading",this.loadSrc(e)):this.state="unloaded")}}),result:i.a.observableProperty({decideRequiresUpdate:function(){return!0},didChange:function(e){if(!this._isWritingResultDueToWritingOfSrc){var t=this.validateResult(e)?"loaded":e||this._isWritingResultDueToError?"errored":"unloaded";this._isWritingResultDueToLoadOfSrc||this._isWritingResultDueToError||(this._isWritingSrcDueToWritingOfResult=!0,this.src=null,this._isWritingSrcDueToWritingOfResult=!1,this.abortCurrentLoad(),this.state="unloaded"),this.state=t}}}),error:i.a.observableProperty(null),_clearErrorOnceNoLongerErrored:i.a.observer("state",(function(e){"errored"!==e&&(this.error=null)})),progress:i.a.observableProperty({defaultValue:0,dependencies:["state"],get:function(e){return"loading"===this.state?Math.min(1,Math.max(0,+e||0)):"loaded"===this.state?1:0}}),_clearProgressOnceUnloaded:i.a.observer("state",(function(e){"unloaded"===e&&(this.progress=0)})),loadDidFail:function(e){"loading"===this.state&&(this._isWritingResultDueToError=!0,this.result=null,this._isWritingResultDueToError=!1,this.error=e)},loadDidSucceed:function(e){"loading"===this.state&&(this._isWritingResultDueToLoadOfSrc=!0,this.result=e,this._isWritingResultDueToLoadOfSrc=!1,this.error=null)}});t.a=n},function(e,t,r){"use strict";function i(e,t,r){var i=e.getContext("2d"),n=7===r||8===r?270:3===r||4===r?180:5===r||6===r?90:0,a=t.naturalWidth,o=t.naturalHeight,s=n%180==0?a:o,l=n%180==0?o:a,d=2===r||4===r?-1:1,c=5===r||7===r?-1:1;e.width===s&&e.height===l||(e.width=s,e.height=l);for(var u=0;u<n;u+=90)i.translate(u%180?l:s,0),i.rotate(Math.PI/2);i.scale(d,c),i.translate((d-1)/2*a,(c-1)/2*o),i.drawImage(t,0,0),i.setTransform(1,0,0,1,0,0)}var n=r(16),a=r(51),o=r(6),s=r(3),l=[],d={},c=n.a.extend({mimeType:"image/jpeg",beginSecondaryLoad:function(e,t){var i=r.i(a.a)(e);this._exifOrientationInLastLoadedBuffer=i.orientation||NaN,3===i.photosRenderEffect&&(this.effectType=s.a.EXPOSURE),l[0]=e,d.type=t,this._internalImage.src=this._internalImageSrc=URL.createObjectURL(new Blob(l,d)),(window.photoBuffers||(window.photoBuffers=[])).push(e)},abortCurrentSecondaryLoad:function(){this.__internalImage&&this._internalImage.removeAttribute("src"),this._internalImageSrc&&(URL.revokeObjectURL(this._internalImageSrc),this._internalImageSrc=null),this._exifOrientationInLastLoadedBuffer=null,this.effectType=null},get _internalImage(){var e=this.__internalImage;return e||(e=this.__internalImage=new Image,e.addEventListener("load",this._internalImageLoadDidSucceed.bind(this)),e.addEventListener("error",function(e){this.loadDidFail(e)}.bind(this))),e},get _internalCanvas(){return this.__internalCanvas||(this.__internalCanvas=document.createElement("canvas"))},loadDidFail:function(e){if(e)return e.errCode=o.a.PHOTO_FAILED_TO_LOAD,this._super(e)},_internalImageLoadDidSucceed:function(){var e=this._internalImage;1!==this._exifOrientationInLastLoadedBuffer&&(i(this._internalCanvas,this._internalImage,this._exifOrientationInLastLoadedBuffer),e=this._internalCanvas),this.loadDidSucceed(e)}});t.a=c},function(e,t,r){"use strict";var i=r(0),n=r(33),a=r(31),o=r(3),s=r(1),l=i.a.Object.extend({videoSrc:i.a.proxyProperty("_videoProvider.src"),videoMimeType:i.a.proxyProperty("_videoProvider.mimeType"),video:i.a.proxyProperty("_videoProvider.result"),effectType:i.a.observableProperty({dependencies:["_photoProvider.effectType","_videoProvider.effectType","preloadedEffectType"],get:function(){return this._photoProvider.effectType||this._videoProvider.effectType||this.preloadedEffectType||o.a.default},didChange:function(e){this.setPlaybackStyle(e)}}),preloadedEffectType:i.a.observableProperty({get:function(e){return e},set:function(e){return this._photoProvider.effectType=null,this._videoProvider.effectType=null,e}}),setPlaybackStyle:function(e){this.effectType=e,this.playbackStyle=o.a.toPlaybackStyle(e)},photoSrc:i.a.proxyProperty("_photoProvider.src"),photoMimeType:i.a.proxyProperty("_photoProvider.mimeType"),photo:i.a.proxyProperty("_photoProvider.result"),playbackStyle:i.a.observableProperty(s.a.default),metadataVideoSrc:i.a.proxyProperty("_metadataVideoProvider.src"),progress:i.a.observableProperty({readOnly:!0,dependencies:["_photoProvider.progress","_videoProvider.state","_videoProvider.progress","_metadataVideoProvider.state","_metadataVideoProvider.progress"],get:function(){var e=this._videoProvider,t=this._metadataVideoProvider,r=e.state,i=t.state,n="unloaded"!==r||"unloaded"!==i?.75:0,a=n?"unloaded"===i?e.progress:(e.progress+t.progress)/2:0;return this._photoProvider.progress*(1-n)+a*n}}),photoTime:i.a.observableProperty({dependencies:["_metadataVideoProvider.photoTime","_videoProvider.photoTime"],get:function(e){return+e===e?e:this._metadataVideoProvider.photoTime||this._videoProvider.photoTime||null}}),videoRotation:i.a.observableProperty({dependencies:["_videoProvider.videoRotation"],get:function(e){if(+e===e)return e;var t=this._videoProvider.videoRotation;return+t===t?t:null},set:function(e){return 90*Math.round(e/90)%360|0}}),frameTimes:i.a.observableProperty({dependencies:["_metadataVideoProvider.frameTimes","_videoProvider.frameTimes"],get:function(e){return e||this._metadataVideoProvider.frameTimes||this._videoProvider.frameTimes},set:function(e){if(!e)return null;if("string"==typeof e){var t=i.a.arrayPool.get();i.a.String.splitIntoArray(e,",",t),i.a.Array.mapIntoArray(t,(function(e){return Number(e.trim())}),t),e=t}for(var r=Array.isArray(e),n=r&&e.length>=2,a=0,o=e.length;a<o&&n;a++){var s=e[a];+s!==s&&(n=!1)}if(!n)throw new Error("If frameTimes is provided, it must be provided as an Array or comma-delimited string containing numbers.");return e}}),videoDuration:i.a.observableProperty({readOnly:!0,dependencies:["frameTimes"],get:function(){return this.frameTimes?this.frameTimes[this.frameTimes.length-1]:void 0}}),proactivelyLoadsVideo:i.a.observableProperty(!1),needsLoadedVideoForPlayback:i.a.observableProperty(!1),_reset_needsLoadedVideoForPlayback_whenAppropriate:i.a.observer("video",(function(){this.needsLoadedVideoForPlayback=!1})),isVideoLoadAllowed:i.a.observableProperty({readOnly:!0,dependencies:["proactivelyLoadsVideo","needsLoadedVideoForPlayback"],get:function(){return this.proactivelyLoadsVideo||this.needsLoadedVideoForPlayback}}),errors:i.a.observableProperty({readOnly:!0,dependencies:["_videoProvider.error","_photoProvider.error"],get:function(){return[this._photoProvider.error,this._videoProvider.error].filter((function(e){return!!e}))}}),lastError:i.a.observableProperty(),_lastPhotoError:i.a.observableProperty({readOnly:!0,dependencies:["_photoProvider.error"],get:function(){return this._photoProvider.error},didChange:function(e){this.lastError=e}}),_lastVideoError:i.a.observableProperty({readOnly:!0,dependencies:["_videoProvider.error"],get:function(){return this._videoProvider.error},didChange:function(e){this.lastError=e}}),_metadataVideoProvider:i.a.observableProperty((function(){return n.a.extend({requiresMimeTypeForRawArrayBufferSrc:!1,actuallyProvidesResultingVideoFromSecondaryLoad:!1}).create()})),_videoProvider:i.a.observableProperty((function(){return n.a.extend({owner:i.a.observableProperty(this),isSrcLoadAllowed:i.a.proxyProperty("owner.isVideoLoadAllowed"),exposedSrcKeyForErrorStrings:"videoSrc",exposedMimeTypeKeyForErrorStrings:"videoMimeType"}).create()})),_photoProvider:i.a.observableProperty((function(){return a.a.extend({exposedSrcKeyForErrorStrings:"photoSrc",exposedMimeTypeKeyForErrorStrings:"photoMimeType"}).create()}))});t.a=l},function(e,t,r){"use strict";function i(e){var t=[0,0,0,0,0,0,0,0,1];t[0]=n(e.slice(0,4),16,16),t[1]=n(e.slice(4,8),16,16),t[3]=n(e.slice(12,16),16,16),t[4]=n(e.slice(16,20),16,16);for(var r=0;r<v.length;r++)if(a(v[r],t))return 90*r;return 0}function n(e,t,r){var i=e[0]<<24|e[1]<<16|e[2]<<8|e[3];return Math.abs(i>>r)*(0!=(i&1<<t+r-1)?-1:1)}function a(e,t){if(e===t)return!0;if(!e||!t)return!1;var r=e.length;if(r!==t.length)return!1;for(var i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}var o=r(16),s=r(45),l=r(0),d=r(5),c=r(6),u=r(2),h=r(3),p=[],f={},m=o.a.extend({__internalVideo:null,_internalVideoSRC:null,photoTime:l.a.observableProperty(),playbackStyle:l.a.observableProperty(null),effectType:l.a.observableProperty(null),frameTimes:l.a.observableProperty(),videoRotation:l.a.observableProperty(),actuallyProvidesResultingVideoFromSecondaryLoad:!0,_clearMetadataPropertiesOnUnload:l.a.observer("state",(function(e){"loaded"!==e&&(this.photoTime=this.frameTimes=this.videoRotation=void 0)})),beginSecondaryLoad:function(e,t){this.preprocessAndAttemptToReadMetadataFromBuffer(e),this.actuallyProvidesResultingVideoFromSecondaryLoad&&(p[0]=e,f.type="video/quicktime"===t?"video/mp4":t,"application/octet-stream"===t&&(d.a.warn('Encountered a Content-Type of "application/octet-stream" for the file obtained for `videoSrc`.Some browsers may be unable to use the video with this MIME type. If the video portion of the Player is not functioning, make sure the proper MIME type is being provided with the response,or provide the proper MIME type manually by assigning it to the `videoMimeType` property on the Player instance. For now, an attempt will be made to treat the video’s bytes as "video/mp4", but playback is not guaranteed unless either of these corrective steps are taken.'),t="video/mp4"),this._internalVideo.src=this._internalVideoSRC=URL.createObjectURL(new Blob(p,f)),u.a.isIOS&&this._internalVideo.load())},abortCurrentSecondaryLoad:function(){this.__internalVideo&&(this.__internalVideo.pause(),this.__internalVideo.removeAttribute("src"),this.__internalVideo.load(),u.a.isIOS&&(this.__internalVideo=null),this._internalVideoSRC&&(URL.revokeObjectURL(this._internalVideoSRC),this._internalVideoSRC=null),this.effectType=null)},get _internalVideo(){var e=this.__internalVideo;return e||(e=this.__internalVideo=document.createElement("video"),e.addEventListener("canplay",this.loadDidSucceed.bind(this)),e.addEventListener("error",this.loadDidFail.bind(this)),e.volume=0),e},loadDidFail:function(e){if(e)return e.errCode=c.a.VIDEO_FAILED_TO_LOAD,this._super(e);var t=this.__internalVideo;return t.error.errCode=c.a.VIDEO_FAILED_TO_LOAD,t?this._super(t.error):t},loadDidSucceed:function(){var e=this.__internalVideo;return e?this._super(e):e},preprocessAndAttemptToReadMetadataFromBuffer:function(e){var t=void 0,r=void 0;try{t=new s.a(new s.b(e)),t.read()}catch(e){t=null}if(!t)return this.photoTime=null,this.frameTimes=null,void(this.videoRotation=0);var n=(r=t.tracks)&&(r=r.vide)&&(r=r[0])&&r.getAllSampleSeconds&&r.getAllSampleSeconds();n&&(this.frameTimes=n);var a=void 0;try{a=t.tracks.meta[0].timeToSeconds(t.tracks.meta[0].trak.edts.elst.editList[0].trackDuration)}catch(e){}a&&(this.photoTime=a);var o=new Uint8Array(e),l=(r=t.tracks)&&(r=r.soun)&&(r=r[0])&&(r=r.trak)&&r.offset;if(l){var d="free";o[l+4]=d.charCodeAt(0),o[l+5]=d.charCodeAt(1),o[l+6]=d.charCodeAt(2),o[l+7]=d.charCodeAt(3)}var c=(r=t.tracks)&&(r=r.vide)&&(r=r[0])&&(r=r.trak)&&(r=r.tkhd)&&(r=r.offset)&&r+48,u=0;if(c){for(var p=[],f=0;f<y.length;f++)p[f]=o[c+f];if(u=i(p))for(var m=0;m<y.length;m++)o[c+m]=y[m]}this.videoRotation=u;var v=t.metaData.keys&&t.metaData.keys.keyList.get("com.apple.photos.variation-identifier"),g=void 0;if(v>0)switch(t.metaData.values.items[v]){case 1:g=h.a.LOOP;break;case 2:g=h.a.BOUNCE;break;case 3:g=h.a.EXPOSURE}this.effectType=g}}),y=[0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0],v=[[1,0,0,0,1,0,0,0,1],[0,1,0,-1,0,0,0,0,1],[-1,0,0,0,-1,0,0,0,1],[0,-1,0,1,0,0,0,0,1]];t.a=m},function(e,t,r){"use strict";var i=r(4),n=r(1),a=r(2),o=a.a.isSafari,s=i.a.create({correspondingPlaybackStyle:n.a.FULL,get minimumShortenedDuration(){return this.enterDuration+this.exitDuration+.01},get spontaneousFinishDuration(){return this.exitDuration},enterDuration:1/3,exitDuration:.5,videoBeginTime:.15,zoomScaleFactor:1.075,blurRadius:5,blurRadiusStep:.2,requiresInterpolation:!0,quantizeRadius:function(e){return this.blurRadiusStep?Math.round(e/this.blurRadiusStep)*this.blurRadiusStep:e},easeInOut:function(e){return e<0?0:e>1?1:.5-.5*Math.cos(e*Math.PI)},calculateAnimationDuration:function(e,t,r){var i=t?t+this.videoBeginTime+this.exitDuration:0;return Math.max(0,Math.min(e||1/0,i))},getEntranceExitParameter:function(e,t){return Math.min(Math.max(0,Math.min(1,1-this.easeInOut((e-(t-this.exitDuration))/this.exitDuration))),1-Math.max(0,Math.min(1,1-this.easeInOut(e/this.enterDuration))))||0},getTransform:function(e,t,r,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=1+(this.zoomScaleFactor-1)*this.getEntranceExitParameter(e,t),l=-(s-1)/2*r,d=-(s-1)/2*i,c=Math.round(l*devicePixelRatio)/devicePixelRatio,u=Math.round(d*devicePixelRatio)/devicePixelRatio;return Math.abs(s-n)<1e-5?"translate3d("+c+"px, "+u+"px, 0) scale3d("+a+", "+o+", 1)":l||d||s?"translate3d("+l+"px, "+d+"px, 0) scale3d("+s+", "+s+", 1)":"translate3d(0, 0, 0)"},photo:i.a.PhotoIngredient.create({opacity:i.a.computedStyle((function(e){if(e<this.recipe.enterDuration)return(1-this.recipe.easeInOut(e/this.recipe.enterDuration)).toString();if(e<this.renderer.duration-this.recipe.exitDuration)return"0";var t=this.recipe.easeInOut((e-(this.renderer.duration-this.recipe.exitDuration))/this.recipe.exitDuration);return 1!==t?t:"1"})),display:i.a.computedStyle((function(e){return e>this.recipe.enterDuration&&e<this.renderer.duration-this.recipe.exitDuration?"none":""})),filter:i.a.computedStyle((function(e){if(!o)return"";var t=this.recipe,r=t.blurRadius*t.getEntranceExitParameter(e,this.renderer.duration);return r?"blur("+t.quantizeRadius(r)+"px)":""})),transform:i.a.computedStyle((function(e){return this.recipe.getTransform(e,this.renderer.duration,this.displayWidth,this.displayHeight)})),zIndex:i.a.computedStyle((function(){return 3}))}),video:i.a.InterpolatedVideoIngredient.create({get backingScaleFactor(){return this.recipe.zoomScaleFactor},lookaheadTime:.01+7/15,videoTimeAtTime:function(e){var t=Math.max(0,Math.min(this.videoDuration,e-this.recipe.videoBeginTime));return Math.min(t,this.renderer.duration-this.recipe.exitDuration-this.recipe.videoBeginTime)},prepareVideoFramesFromTime:function(e){this.retainFramesForTime(e,e+this.lookaheadTime)},display:i.a.computedStyle((function(e){return 0===e||e===this.renderer.duration?"none":""})),transform:i.a.computedStyle((function(e){return this.recipe.getTransform(e,this.renderer.duration,this.displayWidth,this.displayHeight,this.backingScaleFactor,this.backingScaleX,this.backingScaleY)})),zIndex:i.a.computedStyle((function(){return 1}))})});t.a=s},function(e,t,r){"use strict";var i=r(4),n=r(1),a=i.a.create({correspondingPlaybackStyle:n.a.HINT,minimumShortenedDuration:.9,get spontaneousFinishDuration(){return this.exitBlurDuration},exitBlurDuration:.75,bottomVideoRevealBeginTime:.1,zoomScaleFactor:1.075,blurRadius:7.5,blurRadiusStep:1,requiresInterpolation:!0,quantizeRadius:function(e){return Math.round(e/this.blurRadiusStep)*this.blurRadiusStep},tween:function(e){return e<0?0:e>1?1:.5-.5*Math.cos(e*Math.PI)},calculateAnimationDuration:function(e,t,r){var i=t?t-r+this.exitBlurDuration:0;return Math.max(0,Math.min(e||1/0,i))},photo:i.a.PhotoIngredient.create({hideDuration:.06,get returnDuration(){return this.recipe.exitBlurDuration},opacity:i.a.computedStyle((function(e){if(e<this.hideDuration)return(1-this.recipe.tween(e/this.hideDuration)).toString();if(e<this.renderer.duration-this.returnDuration)return"0";var t=this.recipe.tween((e-(this.renderer.duration-this.returnDuration))/this.returnDuration);return 1!==t?t.toString():""})),display:i.a.computedStyle((function(e){return e>this.hideDuration&&e<this.renderer.duration-this.returnDuration?"none":""})),webkitFilter:i.a.computedStyle((function(e){if(e<this.renderer.duration-this.returnDuration)return"";var t=this.recipe.blurRadius*(1-this.recipe.tween((e-(this.renderer.duration-this.returnDuration))/this.returnDuration));return t?"blur("+this.recipe.quantizeRadius(t)+"px)":""})),transform:i.a.computedStyle((function(e){if(e<this.renderer.duration-this.returnDuration)return"translateZ(0)";var t=1+(this.recipe.zoomScaleFactor-1)*(1-this.recipe.tween((e-(this.renderer.duration-this.returnDuration))/this.returnDuration));return"translate3d("+-(t-1)/2*this.displayWidth+"px, "+-(t-1)/2*this.displayHeight+"px, 0) scale3d("+t+", "+t+", 1)"})),zIndex:i.a.computedStyle((function(){return 3}))}),video:i.a.InterpolatedVideoIngredient.create({get backingScaleFactor(){return this.recipe.zoomScaleFactor},scaleInDuration:.15,get blurOutDuration(){return this.recipe.exitBlurDuration},lookaheadTime:.01+7/15,videoTimeAtTime:function(e){return Math.min(this.videoDuration,e+this.renderer.photoTime)},prepareVideoFramesFromTime:function(e){this.retainFramesForTime(e,e+this.lookaheadTime)},display:i.a.computedStyle((function(e){return e&&e!==this.renderer.duration?"":"none"})),transform:i.a.computedStyle((function(e){var t=1+(this.recipe.zoomScaleFactor-1)*Math.max(0,Math.min(1,1-this.recipe.tween((e-(this.renderer.duration-this.blurOutDuration))/this.blurOutDuration)-(1-this.recipe.tween(e/this.scaleInDuration)))),r=-(t-1)/2*this.displayWidth,i=-(t-1)/2*this.displayHeight,n=Math.round(r*devicePixelRatio)/devicePixelRatio,a=Math.round(i*devicePixelRatio)/devicePixelRatio;return Math.abs(t-this.backingScaleFactor)<1e-5?"translate3d("+n+"px, "+a+"px, 0) scale3d("+this.backingScaleX+", "+this.backingScaleY+", 1)":"translate3d("+r+"px, "+i+"px, 0) scale3d("+t+", "+t+", 1)"})),webkitFilter:i.a.computedStyle((function(e){var t=this.recipe.blurRadius*this.recipe.tween((e-(this.renderer.duration-this.blurOutDuration))/this.blurOutDuration);return t?"blur("+this.recipe.quantizeRadius(t)+"px)":""})),zIndex:i.a.computedStyle((function(){return 1}))})});t.a=a},function(e,t,r){"use strict";var i=r(4),n=r(2),a=(n.a.isSafari,i.a.create({requiresInterpolation:!0,photo:i.a.PhotoIngredient.create({display:i.a.computedStyle((function(e){return this.isPlaying||e>0?"none":""}))}),video:i.a.InterpolatedVideoIngredient.create({lookaheadTime:.01+7/15,videoTimeAtTime:function(e){return e%this.renderer.duration},prepareVideoFramesFromTime:function(e){this.retainFramesForTime(e,e+this.lookaheadTime)},display:i.a.computedStyle((function(e){return""}))}),beginFinishingPlaybackEarly:function(e){e.autoplay||(e.isPlaying?e.pause():e.wantsToPlay=!1)},continuePlayback:function(e){var t=e.currentTime,r=e.duration;t>=r&&(e.currentTime=t%r),e._rafID=requestAnimationFrame(e._nextFrame.bind(e))}}));t.a=a},function(e,t,r){"use strict";var i=r(4),n=r(36),a=r(1);n.a.register();var o=i.a.create({correspondingPlaybackStyle:a.a.LOOP,photo:i.a.PhotoIngredient.create({display:i.a.computedStyle((function(e){return this.isPlaying||e>0?"none":""}))}),video:i.a.VideoIngredient.create({display:i.a.computedStyle((function(e){return""}))}),beginFinishingPlaybackEarly:function(e){e.autoplay||(e.isPlaying?e.pause():e.wantsToPlay=!1)},continuePlayback:function(e){var t=e.currentTime,r=e.duration;t>=r&&(e.currentTime=t%r),e._rafID=requestAnimationFrame(e._nextFrame.bind(e))},requestMoreCompatibleRecipe:function(e){return i.a.registerRecipeWithPlaybackStyle(n.a,this.correspondingPlaybackStyle),n.a}});t.a=o},function(e,t,r){"use strict";var i=r(0),n=r(41),a=r(1),o=r(13),s=n.a.extend(o.a,{_loCanvas:null,_hiCanvas:null,backingScaleFactor:1,setUpForRender:function(){var e=this.element,t=(this.isPlaying,this.renderer),r=t.autoplay,n=t.parentView,o=t.playbackStyle,s=t.video;if(!this._loCanvas||!this._hiCanvas){e.innerHTML&&(e.innerHTML="");var l=this._loCanvas=i.a.canvasPool.get(),d=this._hiCanvas=i.a.canvasPool.get();l._context=l.getContext("2d"),d._context=d.getContext("2d"),l.style.cssText=d.style.cssText="position: absolute; left: 0; top: 0; width: 100%; height: 100%; transform: translateZ(0);",e.appendChild(l),e.appendChild(d),this._swapCanvases()}e.className="lpk-render-layer lpk-video",e.style.position="absolute",e.style.transformOrigin="0 0",e.style.zIndex=1,this._super(),o===a.a.LOOP&&(this.shouldLoop=!0),this.shouldLoop&&requestAnimationFrame((function(){s.currentTime=-1,r&&n.play()})),window.test=this},updateSize:function(e,t){if(!arguments.length)return this._super();this._super(e,t);var r=Math.ceil(e*this.backingScaleFactor),i=Math.ceil(t*this.backingScaleFactor);this.backingScaleX=r/e,this.backingScaleY=i/t,this.element.style.width=r+"px",this.element.style.height=i+"px",this._loCanvas&&this._hiCanvas&&(this._loCanvas.width=this._hiCanvas.width=r*devicePixelRatio,this._loCanvas.height=this._hiCanvas.height=i*devicePixelRatio,this._loCanvas._drawnFrameNumber=this._hiCanvas._drawnFrameNumber=-1,this.renderAtTime())},renderAtTime:function(e){if(!arguments.length)return this._super();this._super(e);var t=this.backingScaleX,r=this.backingScaleY;1===t&&1===r||(this.element.style.transform+=" scale3d("+1/t+", "+1/r+", 1)")},renderFramePair:function(e,t,r){(e&&this._hiCanvas._drawnFrameNumber===e.number||t&&this._loCanvas._drawnFrameNumber===t.number)&&this._swapCanvases(),this._putFrameInCanvasIfNeeded(e,this._loCanvas),this._putFrameInCanvasIfNeeded(t,this._hiCanvas),t&&(this._hiCanvas.style.opacity=r)},_swapCanvases:function(){var e=this._hiCanvas;this._hiCanvas=this._loCanvas,this._loCanvas=e,this._loCanvas.style.opacity="",this._loCanvas.style.zIndex=1,this._hiCanvas.style.zIndex=2},_putFrameInCanvasIfNeeded:function(e,t){t._drawnFrameNumber!==(t._drawnFrameNumber=e?e.number:-1)&&(t.setAttribute("data-frame-number",t._drawnFrameNumber.toString()),e?t._context.drawImage(e.image,0,0,t.width,t.height):t._context.clearRect(0,0,t.width,t.height))},dispose:function(){this._super(),this._loCanvas&&i.a.canvasPool.ret(this._loCanvas),this._hiCanvas&&i.a.canvasPool.ret(this._hiCanvas)},tearDownFromRender:function(){var e=this.renderer,t=e.parentView;this.shouldLoop=!1,t&&t.stop(),this._clearAllRetainedFrames(),this._super()}});t.a=s},function(e,t,r){"use strict";var i=r(42),n=r(13),a=r(49),o=i.a.extend(n.a,{tagName:"canvas",get _canvas(){return this.element},get _context(){return this.__context||(this.__context=this._canvas.getContext("2d"))},init:function(){this._super.apply(this,arguments),this.element.className="lpk-render-layer lpk-photo",this.element.style.position="absolute",this.element.style.width=this.element.style.height="100%",this.element.style.transformOrigin="0 0",this.element.style.zIndex=2},tearDownFromRender:function(){this._super(),this._canvas.width=this._canvas.height=0},updateSize:function(e,t){if(!arguments.length)return this._super();this._super(e,t);var i=Math.ceil(e*devicePixelRatio),n=Math.ceil(t*devicePixelRatio),o=this.photo,s=this._canvas;this._lastPhoto===(this._lastPhoto=o)&&s.width===i&&s.height===n||(s.width=i,s.height=n,o&&r.i(a.a)(this._context,o,0,0,i,n))}});t.a=o},function(e,t,r){"use strict";var i=r(0),n=r(2),a=r(13),o=r(43),s=o.a.extend(a.a,{_isPlayingChanged:i.a.observer("isPlaying",(function(e){this._video&&(e?(this.duration=1/0,this.play()):this.pause())})),_isVisible:!1,applyStyles:function(){var e=this.element,t=this.video,r=this.videoRotation,i=t.videoHeight,n=t.videoWidth,a=1;[90,270].indexOf(r)>=0&&(a=n/i);var o="\n                height: 100%;\n                position: absolute;\n                width: 100%;\n                -moz-transform: scale("+a+") rotate("+r+"deg);\n                -webkit-transform: scale("+a+") rotate("+r+"deg);\n                -o-transform: scale("+a+") rotate("+r+"deg);\n                -ms-transform: scale("+a+") rotate("+r+"deg);\n                transform: scale("+a+") rotate("+r+"deg);\n                z-index: 1;\n            ";e.setAttribute("style",o),e.className="lpk-render-layer lpk-video",t.style.height="100%",t.style.width="100%"},cleanupElement:function(){var e=this.element,t=this.renderer,r=this._video,i=t.parentView;e.innerHtml&&(e.innerHtml=""),r&&(r.loop=!1,r.muted=!1,r.removeEventListener("pause",this.playIfPlaying)),i&&i.stop(),delete this._video},pause:function(){var e=this._isVisible,t=this._video;e&&t.pause()},play:function(){if(this._isVisible){var e=this._video,t=e.play();t?t.catch(this._handlePlayFailure):n.a.isIE||n.a.isEdge||(e.pause(),setTimeout(this._handlePlayFailure))}},_handlePlayFailure:i.a.boundFunction((function(){this.renderer.requestMoreCompatibleRecipe()})),playIfPlaying:i.a.boundFunction((function(){var e=this.isPlaying,t=this._video;if(e&&t.paused){var r=t.play();r&&r.catch((function(){}))}})),setUpForRender:function(){var e=this.element,t=(this.isPlaying,this.renderer),r=t.autoplay,i=t.parentView,n=t.video;this.cleanupElement(),e.appendChild(n),this.applyStyles(),n.loop=!0,n.muted=!0,this._video=n,this._isVisible=!0,this._super(),r&&(n.addEventListener("pause",this.playIfPlaying),i.play())},tearDownFromRender:function(){this.cleanupElement(),this._isVisible=!1,this._super()}});t.a=s},function(e,t,r){"use strict";function i(e){e.retain()}function n(e){e.release()}var a=r(0),o=r(7),s=r(17),l=o.a.extend({videoDecoder:a.a.proxyProperty("renderer.videoDecoder"),videoDuration:a.a.proxyProperty("videoDecoder.duration"),canRender:a.a.proxyProperty({readOnly:!0,proxyPath:"videoDecoder.canProvideFrames"}),init:function(){this._super.apply(this,arguments);var e=this.layerName,t=this.recipe;this._framePrepIDKey=t.name+"_"+e+"_framePrepID"},videoTimeAtTime:function(e){return e},_videoTimeAtTime:function(e){return isNaN(e)?e:this.videoTimeAtTime(e)},prepareToRenderAtTime:function(e){var t=this._currentPrepID=++d;if(!this.canRender)return!1;this.prepareVideoFramesFromTime(e);for(var r,i=this._retainedFrames,n=0,a=0;r=i[a];a++)2!==r.readyState&&(r[this._framePrepIDKey]=t,r.onReadyOrFail(this._frameDidPrepare),n++);return this._preppingFrameCount=n,!n},reduceMemoryFootprint:function(){this._super(),this._clearAllRetainedFrames()},_clearAllRetainedFrames:function(){this._clearExtraRetainedFrames(),this._clearRetainedInstantaneousFrames()},_clearExtraRetainedFrames:function(){var e=this._retainedFrames;e&&(e.forEach(n),e.length=0)},_clearRetainedInstantaneousFrames:function(){this._retainedLoFrame&&this._retainedLoFrame.release(),this._retainedHiFrame&&this._retainedHiFrame.release(),this._retainedLoFrame=this._retainedHiFrame=null},_frameDidPrepare:a.a.boundFunction((function(e){e[this._framePrepIDKey]===this._currentPrepID&&(e[this._framePrepIDKey]=void 0,--this._preppingFrameCount||this.renderer.prepareToRenderAtTime(this.renderer.currentTime))})),prepareVideoFramesFromTime:function(e){this.retainFramesForTime(e)},canRenderAtTime:function(e){if("none"===this.display(e))return!0;if(!this.canRender)return!1;for(var t,r=!0,i=this.requiredFramesForTime(e),n=0;t=i[n];n++)r=r&&2===t.readyState,t.retain().release();return r},renderAtTime:function(e){if(!arguments.length)return this._super();if("none"===this.display(e))return this._clearRetainedInstantaneousFrames(),this._super(e);var t=this._videoTimeAtTime(e),r=this.requiredFramesForVideoTime(t),i=r[0]||null,n=r[1]||null;if(i&&i.retain(),n&&n.retain(),this._clearRetainedInstantaneousFrames(),this._retainedLoFrame=i,this._retainedHiFrame=n,i&&(i=i.backingFrame),n&&(n=n.backingFrame),i&&n&&i.number>n.number){var a=i;n=i,i=a}i===n&&(n=null);var o=!i||n?this.videoDecoder.fractionalIndexForTime(t):i.frameNumber,s=o-(0|o);this.renderFramePair(i,n,s),this._super(e)},renderFramePair:function(){},requiredFramesForVideoTime:function(e,t,r){isNaN(t)&&(t=e);var i=this.videoDecoder,n=this.videoDuration,a=i.frameCount,o=c;if(o.length=0,t<0||e>n||isNaN(e)||isNaN(t))return o;var l=Math.max(0,Math.floor(i.fractionalIndexForTime(e))),d=Math.min(i.frameCount,Math.ceil(i.fractionalIndexForTime(t))),u=d<l,h=u?a-1:d;if(l===h-1){var p=i.frameTimes;p[h]-p[l]<1/30+.001&&(h=l)}for(var f=l;f<=h;f++)s.a&&0===f||(o.push(i.getFrame(f,r)),f+1===a&&u&&(f=-1,h=d));return o},requiredFramesForTime:function(e,t,r){return this.requiredFramesForVideoTime(this._videoTimeAtTime(e),this._videoTimeAtTime(t),r)},retainFramesForVideoTime:function(e,t,r){void 0===t&&(t=e);var a=this.lookaheadTime,o=this.shouldLoop,s=this.requiredFramesForVideoTime(e,t,r),l=this._retainedFrames||(this._retainedFrames=[]);s.forEach(i);for(var d=l.length-1;d>=0;d--){var c=l[d],u=c.time;(!o||u>a/2)&&(n(c),l.splice(d,1))}l.push.apply(l,s)},retainFramesForTime:function(e,t,r){return this.retainFramesForVideoTime(this._videoTimeAtTime(e),this._videoTimeAtTime(t),r)},dispose:function(){this.retainFramesForVideoTime(NaN),this._super()}}),d=1,c=[];t.a=l},function(e,t,r){"use strict";var i=r(7),n=r(0),a=i.a.extend({isPlaying:n.a.proxyProperty({readOnly:!0,proxyPath:"renderer.parentView.isPlaying"}),photo:n.a.proxyProperty({readOnly:!0,proxyPath:"renderer.photo"}),canRender:n.a.proxyProperty("photo"),canRenderAtTime:function(e){var t=this.photo;return!("none"!==this.display(e)&&(!t||t instanceof Image&&!t.complete))}});t.a=a},function(e,t,r){"use strict";var i=r(7),n=r(0),a=i.a.extend({canRender:n.a.proxyProperty({readOnly:!0,proxyPath:"video"}),isPlaying:n.a.proxyProperty({readOnly:!0,proxyPath:"renderer.parentView.isPlaying"}),video:n.a.proxyProperty({readOnly:!0,proxyPath:"renderer.video"}),videoRotation:n.a.proxyProperty({readOnly:!0,proxyPath:"renderer.provider.videoRotation"})});t.a=a},function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e){var t=r.i(o.a)(e),i=d.get(t);if(i)return i;var n=e.map((function(e){if("i"===e[0]&&h(e[1]))return"I"+e.substring(1)}));return e=e.concat(n.filter((function(e){return!!e}))),i=new RegExp(e.join("|"),"g"),d.set(t,i),i}function a(e,t){var r=e.charCodeAt(0),i=t.charCodeAt(0),n=new Map;return function(e){var t=n.get(e);if(void 0!==t)return t;var a=e.charCodeAt(0);return t=a>=r&&a<=i,n.set(e,t),t}}var o=r(20),s=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=["iOS","iPhone","iPad","iPod","WebKit"],d=new Map,c=a("0","9"),u=a("a","z"),h=a("A","Z"),p=function(e){return u(e)||h(e)},f=function(e){return p(e)||c(e)},m=new Map,y=function(){function e(){i(this,e)}return s(e,null,[{key:"splitIntoArray",value:function(e,t,r){for(var i=e.indexOf(t),n=0,a=t.length;-1!==i;)r.push(e.substring(n,i)),n=i+a,i=e.indexOf(t,n);r.push(e.substring(n))}},{key:"hyphenate",value:function(t,i,n){if(!t)return"";i||null===i||!1===i||(i=l);var a=i||n?r.i(o.a)(i)+"#"+t+"#"+!!n:t,s=m.get(a);if(s)return s;if(Array.isArray(i)){var d=e.hyphenateCarefully(t,i,n);return m.set(a,d),d}var y=t.length,v="",g=void 0,_=void 0,b=void 0,P=void 0,C=void 0;for(g=0;g<y;g++)_=t[g-1],b=t[g],P=b.toLowerCase(),C=t[g+1],_&&f(b)&&f(_)&&(!h(_)&&h(b)||c(_)&&p(b)||C&&h(_)&&h(b)&&u(C))?v+="-"+P:v+=P;return m.set(a,v),v}},{key:"hyphenateCarefully",value:function(t,r,i){var a=n(r),o=t.match(a);if(!o||!o.length)return e.hyphenate(t,null,i);for(var s=t.split(a),l=e.hyphenate(s[0]),d=0,c=o.length;d<c;d++){var u=o[d];i||(u=u.toLowerCase());var h=s[d+1];h&&(h=e.hyphenate(h,null,i)),l+=(l&&"-")+u,h&&(l+=(p(h[0])?"-":"")+h)}return l}}]),e}();t.a=y},function(e,t,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){e||a(t)}function a(e){throw e}var o=r(5);r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return d}));var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=(function(){function e(t,r){i(this,e),this.w=t,this.h=r}s(e,[{key:"toString",value:function(){return"("+this.w+", "+this.h+")"}},{key:"getHalfSize",value:function(){return new e(this.w>>>1,this.h>>>1)}},{key:"length",value:function(){return this.w*this.h}}])}(),function(){function e(t,r,n){i(this,e),this.bytes=new Uint8Array(t),this.start=r||0,this.pos=this.start,this.end=r+n||this.bytes.length}return s(e,[{key:"readU8Array",value:function(e){if(this.pos>this.end-e)return null;var t=this.bytes.subarray(this.pos,this.pos+e);return this.pos+=e,t}},{key:"readU32Array",value:function(e,t,r){if(t=t||1,this.pos>this.end-e*t*4)return null;if(1===t){for(var i=new Uint32Array(e),n=0;n<e;n++)i[n]=this.readU32();return i}for(var a=new Array(e),o=0;o<e;o++){var s=null;if(r){s={};for(var l=0;l<t;l++)s[r[l]]=this.readU32()}else{s=new Uint32Array(t);for(var d=0;d<t;d++)s[d]=this.readU32()}a[o]=s}return a}},{key:"read8",value:function(){return this.readU8()<<24>>24}},{key:"readU8",value:function(){return this.pos>=this.end?null:this.bytes[this.pos++]}},{key:"read16",value:function(){return this.readU16()<<16>>16}},{key:"readU16",value:function(){if(this.pos>=this.end-1)return null;var e=this.bytes[this.pos+0]<<8|this.bytes[this.pos+1];return this.pos+=2,e}},{key:"read24",value:function(){return this.readU24()<<8>>8}},{key:"readU24",value:function(){var e=this.pos,t=this.bytes;if(e>this.end-3)return null;var r=t[e+0]<<16|t[e+1]<<8|t[e+2];return this.pos+=3,r}},{key:"peek32",value:function(e){var t=this.pos,r=this.bytes;if(t>this.end-4)return null;var i=r[t+0]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3];return e&&(this.pos+=4),i}},{key:"read32",value:function(){return this.peek32(!0)}},{key:"readU32",value:function(){return this.peek32(!0)>>>0}},{key:"read4CC",value:function(){var e=this.pos;if(e>this.end-4)return null;for(var t="",r=0;r<4;r++)t+=String.fromCharCode(this.bytes[e+r]);return this.pos+=4,t}},{key:"readFP16",value:function(){return this.read32()/65536}},{key:"readFP8",value:function(){return this.read16()/256}},{key:"readISO639",value:function(){for(var e=this.readU16(),t="",r=0;r<3;r++){var i=e>>>5*(2-r)&31;t+=String.fromCharCode(i+96)}return t}},{key:"readUTF8",value:function(e){for(var t="",r=0;r<e;r++)t+=String.fromCharCode(this.readU8());return t}},{key:"readPString",value:function(e){var t=this.readU8();n(t<=e);var r=this.readUTF8(t);return this.reserved(e-t-1,0),r}},{key:"skip",value:function(e){this.seek(this.pos+e)}},{key:"reserved",value:function(e,t){for(var r=0;r<e;r++)n(this.readU8()===t)}},{key:"seek",value:function(e){(e<0||e>this.end)&&a("Index out of bounds (bounds: [0, "+this.end+"], index: "+e+")."),this.pos=e}},{key:"subStream",value:function(t,r){return new e(this.bytes.buffer,t,r)}},{key:"uint",value:function(e){for(var t=this.position,r=t+e,i=0,n=t;n<r;n++)i<<=8,i|=255&this.readU8();return i}},{key:"length",get:function(){return this.end-this.start}},{key:"position",get:function(){return this.pos}},{key:"remaining",get:function(){return this.end-this.pos}}]),e}()),d=function(){function e(t){i(this,e),this.stream=t,this.tracks={},this.metaData={}}return s(e,[{key:"getPath",value:function(e){for(var t=e.split("."),r=this,i=0,n=t.length;i<n;i++)r=r?r[t[i]]:void 0;return r}},{key:"readBoxes",value:function(e,t){for(;e.peek32();){var r=this.readBox(e);if(r.type in t){var i=t[r.type];Array.isArray(i)||(t[r.type]=[i]),t[r.type].push(r)}else t[r.type]=r}}},{key:"readBox",value:function(e){function t(){o.version=e.readU8(),o.flags=e.readU24()}function r(){return o.size-(e.position-o.offset)}function i(){e.skip(r())}function a(){var t=e.subStream(e.position,r());s.readBoxes(t,o),e.skip(t.length)}var o={offset:e.position},s=this;!function(){o.size=e.readU32(),o.type=e.read4CC()}();var l=void 0,d=void 0,u=void 0;switch(o.type){case"ftyp":var h=o;h.name="File Type Box",h.majorBrand=e.read4CC(),h.minorVersion=e.readU32(),h.compatibleBrands=new Array((h.size-16)/4);for(var p=0;p<h.compatibleBrands.length;p++)h.compatibleBrands[p]=e.read4CC();break;case"moov":o.name="Movie Box",a();break;case"mvhd":var f=o;f.name="Movie Header Box",t(),n(0==f.version),f.creationTime=e.readU32(),f.modificationTime=e.readU32(),f.timeScale=e.readU32(),f.duration=e.readU32(),f.rate=e.readFP16(),f.volume=e.readFP8(),e.skip(10),f.matrix=e.readU32Array(9),e.skip(24),f.nextTrackId=e.readU32();break;case"trak":var m=o;m.name="Track Box",a();var y=new c(this,m),v=m.mdia&&m.mdia.hdlr&&m.mdia.hdlr.handlerType||"unknownHandlerType",g=this.tracks;(g[v]||(g[v]=[])).push(y),g[m.tkhd.trackId]=y;break;case"tkhd":var _=o;_.name="Track Header Box",t(),n(0==_.version),_.creationTime=e.readU32(),_.modificationTime=e.readU32(),_.trackId=e.readU32(),e.skip(4),_.duration=e.readU32(),e.skip(8),_.layer=e.readU16(),_.alternateGroup=e.readU16(),_.volume=e.readFP8(),e.skip(2),_.matrix=e.readU32Array(9),_.width=e.readFP16(),_.height=e.readFP16();break;case"edts":o.name="Edit Atom",a();break;case"elst":var b=o;b.name="Edit List Atom",t(),b.editList=[],u=e.readU32();for(var P=0;P<u;P++)b.editList.push({trackDuration:e.read32(),mediaTime:e.read32(),mediaRate:e.readU32()});n(!r()),i();break;case"mdia":o.name="Media Box",a();break;case"mdhd":var C=o;C.name="Media Header Box",t(),n(0==C.version),C.creationTime=e.readU32(),C.modificationTime=e.readU32(),C.timeScale=e.readU32(),C.duration=e.readU32(),C.language=e.readISO639(),e.skip(2);break;case"hdlr":var k=o;k.name="Handler Reference Box",t(),e.skip(4),k.handlerType=e.read4CC(),e.skip(12),d=k.size-32,d>0&&(k.name=e.readUTF8(d));break;case"minf":o.name="Media Information Box",a();break;case"stbl":o.name="Sample Table Box",a();break;case"stsd":var S=o;S.name="Sample Description Box",t(),S.sd=[],e.readU32(),a();break;case"avc1":var w=o;e.reserved(6,0),w.dataReferenceIndex=e.readU16(),n(0==e.readU16()),n(0==e.readU16()),e.readU32(),e.readU32(),e.readU32(),w.width=e.readU16(),w.height=e.readU16(),w.horizontalResolution=e.readFP16(),w.verticalResolution=e.readFP16(),n(0==e.readU32()),w.frameCount=e.readU16(),w.compressorName=e.readPString(32),w.depth=e.readU16(),n(65535==e.readU16()),a();break;case"mp4a":var x=o;if(e.reserved(6,0),x.dataReferenceIndex=e.readU16(),x.version=e.readU16(),0!==x.version){i();break}e.skip(2),e.skip(4),x.channelCount=e.readU16(),x.sampleSize=e.readU16(),x.compressionId=e.readU16(),x.packetSize=e.readU16(),x.sampleRate=e.readU32()>>>16,a();break;case"esds":o.name="Elementary Stream Descriptor",t(),i();break;case"avcC":var T=o;T.name="AVC Configuration Box",T.configurationVersion=e.readU8(),T.avcProfileIndicaation=e.readU8(),T.profileCompatibility=e.readU8(),T.avcLevelIndication=e.readU8(),T.lengthSizeMinusOne=3&e.readU8(),n(3==T.lengthSizeMinusOne,"TODO"),l=31&e.readU8(),T.sps=[];for(var O=0;O<l;O++)T.sps.push(e.readU8Array(e.readU16()));l=31&e.readU8(),T.pps=[];for(var I=0;I<l;I++)T.pps.push(e.readU8Array(e.readU16()));i();break;case"btrt":var j=o;j.name="Bit Rate Box",j.bufferSizeDb=e.readU32(),j.maxBitrate=e.readU32(),j.avgBitrate=e.readU32();break;case"stts":var L=o;L.name="Decoding Time to Sample Box",t(),L.table=e.readU32Array(e.readU32(),2,["count","delta"]);break;case"stss":var F=o;F.name="Sync Sample Box",t(),F.samples=e.readU32Array(e.readU32());break;case"stsc":var D=o;D.name="Sample to Chunk Box",t(),D.table=e.readU32Array(e.readU32(),3,["firstChunk","samplesPerChunk","sampleDescriptionId"]);break;case"stsz":var R=o;R.name="Sample Size Box",t(),R.sampleSize=e.readU32(),l=e.readU32(),0==R.sampleSize&&(R.table=e.readU32Array(l));break;case"stco":var M=o;M.name="Chunk Offset Box",t(),M.table=e.readU32Array(e.readU32());break;case"smhd":var A=o;A.name="Sound Media Header Box",t(),A.balance=e.readFP8(),e.reserved(2,0);break;case"mdat":var E=o;E.name="Media Data Box",n(E.size>=8,"Cannot parse large media data yet."),E.data=e.readU8Array(r());break;case"mebx":o.name="Mebx",a();break;case"meta":o.name="Metadata",a();break;case"keys":var B=o;B.name="Metadata Item Keys",t();var N=B.keyCount=e.read32(),U=B.offset-B.size;B.keyList=new Map;for(var V=1;V<=N;V++){var H=e.read32()-8;H<1||H>U||(e.skip(4),B.keyList.set(e.readUTF8(H),V))}this.metaData.keys=B;break;case"ilst":var z=o;z.name="Metadata Item List",z.items=[];for(var W=z.offset+z.size;e.position<W;){var $=(e.position,e.readU32(),e.readU32()),K=e.readU32()-16,q=(e.read4CC(),e.readU8()),J=e.readU24(),Z=(e.readU16(),void e.readU16());Z=0===q&&1!==J?e.uint(K):e.readUTF8(K),z.items[$]=Z}this.metaData.values=z;break;default:i()}return o}},{key:"read",value:function(){var e=(new Date).getTime();this.file={},this.readBoxes(this.stream,this.file),o.a.info("Parsed stream in "+((new Date).getTime()-e)+" ms")}},{key:"traceSamples",value:function(){var e=this.tracks[1],t=this.tracks[2];o.a.info("Video Samples: "+e.getSampleCount()),o.a.info("Audio Samples: "+t.getSampleCount());for(var r=0,i=0,n=0;n<100;n++){var a=e.sampleToOffset(r),s=t.sampleToOffset(i),l=e.sampleToSize(r,1),d=t.sampleToSize(i,1);a<s?(o.a.info("V Sample "+r+" Offset : "+a+", Size : "+l),r++):(o.a.info("A Sample "+i+" Offset : "+s+", Size : "+d),i++)}}}]),e}(),c=function(){function e(t,r){i(this,e),this.file=t,this.trak=r}return s(e,[{key:"getSampleSizeTable",value:function(){return this.trak.mdia.minf.stbl.stsz.table}},{key:"getSampleCount",value:function(){return this.getSampleSizeTable().length}},{key:"sampleToSize",value:function(e,t){for(var r=this.getSampleSizeTable(),i=0,n=e;n<e+t;n++)i+=r[n];return i}},{key:"sampleToChunk",value:function(e){var t=this.trak.mdia.minf.stbl.stsc.table;if(1===t.length){var r=t[0];return n(1===r.firstChunk),{index:e/r.samplesPerChunk,offset:e%r.samplesPerChunk}}for(var i=0,a=0;a<t.length;a++){var o=t[a];if(a>0){var s=t[a-1],l=o.firstChunk-s.firstChunk,d=s.samplesPerChunk*l;if(!(e>=d))return{index:i+Math.floor(e/s.samplesPerChunk),offset:e%s.samplesPerChunk};if(e-=d,a===t.length-1)return{index:i+l+Math.floor(e/o.samplesPerChunk),offset:e%o.samplesPerChunk};i+=l}}n(!1)}},{key:"chunkToOffset",value:function(e){return this.trak.mdia.minf.stbl.stco.table[e]}},{key:"sampleToOffset",value:function(e){var t=this.sampleToChunk(e);return this.chunkToOffset(t.index)+this.sampleToSize(e-t.offset,t.offset)}},{key:"timeToSample",value:function(e){for(var t=this.trak.mdia.minf.stbl.stts.table,r=0,i=0;i<t.length;i++){var n=t[i].count*t[i].delta;if(!(e>=n))return r+Math.floor(e/t[i].delta);e-=n,r+=t[i].count}}},{key:"sampleToTime",value:function(e){for(var t=this.trak.mdia.minf.stbl.stts.table,r=0,i=0,n=0;n<t.length&&r<e;n++){var a=t[n],o=Math.min(e-r,a.count);r+=o,i+=o*a.delta}return i}},{key:"getTotalTime",value:function(){for(var e=this.trak.mdia.minf.stbl.stts.table,t=0,r=0;r<e.length;r++)t+=e[r].count*e[r].delta;return n(this.trak.mdia.mdhd.duration===t),this.trak.mdia.mdhd.duration}},{key:"getTotalTimeInSeconds",value:function(){return this.timeToSeconds(this.getTotalTime())}},{key:"getTimeScale",value:function(){return this.trak.mdia.mdhd.timeScale}},{key:"timeToSeconds",value:function(e){return e/this.getTimeScale()}},{key:"secondsToTime",value:function(e){return e*this.getTimeScale()}},{key:"secondsToSample",value:function(e){return this.timeToSample(this.secondsToTime(e))}},{key:"sampleToSeconds",value:function(e){return this.timeToSeconds(this.sampleToTime(e))}},{key:"getAllSampleTimes",value:function(){for(var e=[],t=this.getSampleCount(),r=0;r<t;r++)e.push(this.sampleToTime(r));return e}},{key:"getAllSampleSeconds",value:function(){for(var e=[],t=this.getSampleCount(),r=0;r<t;r++)e.push(this.sampleToSeconds(r));return e}},{key:"getSampleNALUnits",value:function(e){for(var t=this.file.stream.bytes,r=this.sampleToOffset(e),i=r+this.sampleToSize(e,1),n=[];i-r>0;){var a=new l(t.buffer,r).readU32();n.push(t.subarray(r+4,r+a+4)),r=r+a+4}return n}}]),e}()},function(e,t,r){"use strict";var i={staticMembers:{_pool:null,_cache:null,init:function(){this._pool=[],this._cache={},this._super()},getPoolingCacheKey:function(){throw"Must implement `getPoolingCacheKey` to use PoolCaching."},getCached:function(){var e=this.getPoolingCacheKey.apply(this,arguments),t=this._cache[e];return t||(t=this._cache[e]=this._pool.pop()||this.create(),t._poolingCacheKey=e,t.initFromPool.apply(t,arguments)),t},peekCached:function(){var e=this.getPoolingCacheKey.apply(this,arguments);return this._cache[e]||null},_disposeInstance:function(e){delete this._cache[e._poolingCacheKey],e._poolingCacheKey=void 0,e._poolingLifecycleCount=1+(0|e._poolingLifecycleCount),this._pool.push(e)}},dispose:function(){},_poolingCacheKey:null,initFromPool:function(){},_retainCount:0,retain:function(){return this._retainCount++,this},release:function(){return this._retainCount--,this._retainCount||this.dispose(),this}};t.a=i},function(e,t,r){"use strict";function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=r(19);r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return h})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return y}));var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),l=function(){function e(){a(this,e),this._a=[]}return s(e,[{key:"get",value:function(){return this._a.pop()||this.create()}},{key:"ret",value:function(e){this.prepare(e),this._a.push(e)}}]),e}(),d=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return n(t,e),s(t,[{key:"create",value:function(){return[]}},{key:"prepare",value:function(e){e.length=0}}]),t}(l),c=new d,u=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return n(t,e),s(t,[{key:"create",value:function(){return new o.a}},{key:"prepare",value:function(e){e.clear()}}]),t}(l),h=new u,p=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return n(t,e),s(t,[{key:"create",value:function(){return Object.create(null)}},{key:"prepare",value:function(e){var t=e;for(var r in t)delete t[r]}}]),t}(l),f=new p,m=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return n(t,e),s(t,[{key:"create",value:function(){return document.createElement("canvas")}},{key:"prepare",value:function(e){var t=e.parentNode;t&&t.removeChild(e),e.width=e.height=0}}]),t}(l),y=new m},function(e,t,r){"use strict";function i(e,t){return e.apply(void 0,t)}var n={_readiness:"pending",_resolutionArgs:null,_fulfillmentCallbacks:null,_rejectionCallbacks:null,onReadyOrFail:function(e,t){this._resolveIfAlreadyResolved(e,t,!1)||this._pendCallbacks(e,t)},onReadyOrFailSync:function(e,t){this._resolveIfAlreadyResolved(e,t,!0)||this._pendCallbacks(e,t)},_resolveIfAlreadyResolved:function(e,t,r){var n=this._resolutionArgs;return"success"===this._readiness&&e?(r?i(e,n):setTimeout(i,0,e,n),!0):!("failure"!==this._readiness||!t)&&(r?i(t,n):setTimeout(i,0,t,n),!0)},_pendCallbacks:function(e,t){e&&(this._fulfillmentCallbacks||(this._fulfillmentCallbacks=[])).push(e),t&&(this._rejectionCallbacks||(this._rejectionCallbacks=[])).push(t)},clearReadinessCallbacks:function(){this._fulfillmentCallbacks&&(this._fulfillmentCallbacks.length=0),this._rejectionCallbacks&&(this._rejectionCallbacks.length=0)},resetReadiness:function(){this._readiness="pending",this._resolutionArgs&&(this._resolutionArgs.length=0),this.clearReadinessCallbacks()},resolveReadiness:function(){"pending"===this._readiness&&(this._readiness="success",(this._resolutionArgs=this._resolutionArgs||[]).push.apply(this._resolutionArgs,arguments),this._invokeCallbacks(this._fulfillmentCallbacks),this.clearReadinessCallbacks())},rejectReadiness:function(){"pending"===this._readiness&&(this._readiness="failure",(this._resolutionArgs=this._resolutionArgs||[]).push.apply(this._resolutionArgs,arguments),this._invokeCallbacks(this._rejectionCallbacks),this.clearReadinessCallbacks())},_invokeCallbacks:function(e){if(e){for(var t,r=0;t=e[r];r++)t.apply(void 0,this._resolutionArgs);e.length=0}}};t.a=n},function(e,t,r){"use strict";function i(){for(var e=1;e<arguments.length;e++)this[e-1]=arguments[e];return this}function n(e){return e&&"IMG"===e.tagName&&/^data:image\/svg|\.svg\?|\.svg$/.test(e.src)}var a=document.createElement("canvas"),o=a.getContext("2d"),s=document.createElement("canvas"),l=s.getContext("2d");a.width=s.width=a.height=s.height=0;var d=!1,c=!1,u=function(e,t){for(var r=arguments.length,u=Array(r>2?r-2:0),p=2;p<r;p++)u[p-2]=arguments[p];if(n(t))return e.drawImage.apply(e,i.apply(h,arguments)),!0;var f=d,m=c;d=c=!1;var y=t instanceof HTMLImageElement?t.naturalWidth:t.width,v=t instanceof HTMLImageElement?t.naturalHeight:t.height;if(!y||!v)throw"Source image provided to drawImageSmooth was not loaded, or otherwise had no dimensions.";var g=void 0,_=void 0,b=void 0,P=void 0,C=void 0,k=void 0,S=void 0,w=void 0;switch(arguments.length-1){case 3:g=0,_=0,b=y,P=v,C=arguments[2],k=arguments[3],S=y,w=v;break;case 5:g=0,_=0,b=y,P=v,C=arguments[2],k=arguments[3],S=arguments[4],w=arguments[5];break;case 9:g=arguments[2],_=arguments[3],b=arguments[4],P=arguments[5],C=arguments[6],k=arguments[7],S=arguments[8],w=arguments[9]}var x=S/b,T=w/P;if(x&&T){var O=Math.max(x,T),I=Math.pow(2,Math.ceil(Math.log(1.1*O)/Math.log(2)));if(I>=1)return e.drawImage.apply(e,i.apply(h,arguments)),!0;var j=void 0;if(f){j="_cachedSmoothDownsample_from"+g+","+_+","+b+","+P+"@"+I+"x";var L=t[j];if(L)return e.drawImage(L,0,0,L.width,L.height,C,k,S,w),!0}if(m)return e.drawImage.apply(e,i.apply(h,arguments)),!1;var F=1,D=b,R=P,M=Math.max(Math.pow(2,Math.ceil(Math.log(D)/Math.log(2))),a.width),A=Math.max(Math.pow(2,Math.ceil(Math.log(R)/Math.log(2))),a.height);for(a.width===M&&a.height===A||(a.width=s.width=M,a.height=s.height=A),o.drawImage(t,g,_,b,P,0,0,b,P);F>I;){l.drawImage(a,0,0,D,R,0,0,D=Math.ceil(D/2),R=Math.ceil(R/2)),o.clearRect(0,0,D,R);var E=a;a=s,s=E;var B=o;o=l,l=B,F/=2}if(f){var N=document.createElement("canvas");N.width=D,N.height=R,N.getContext("2d").drawImage(a,0,0),t[j]=N}return e.drawImage(a,0,0,D,R,C,k,S,w),o.clearRect(0,0,b,P),l.clearRect(0,0,b,P),!0}};u.usingCache=function(){return d=!0,this},u.avoidingWorkIf=function(e){return c=e,this};var h=[];t.a=u},function(e,t,r){"use strict";function i(){var e="_callbacksForEventHandler"+ ++n;return function(t){var r=this[e]||(this[e]=[]);if("function"==typeof t)return r.push(t);if(r)for(var i=0,n=r.length;i<n;++i)r[i](t)}}t.a=i;var n=1},function(e,t,r){"use strict";function i(e){var t=e&&new DataView(e),r={};return t&&n(t)&&a(t,r),r}function n(e){return 65496===e.getUint16(0)}function a(e,t){for(var r=e.byteLength,i=2;i<r;){var n=e.getUint16(i);65505===n&&o(e,i+4,t),65472!==n&&65474!==n||s(e,i+5,t),i+=2+e.getUint16(i+2)}return t}function o(e,t,r){if(1165519206!==e.getUint32(t))return r;var i=t+6,n=void 0,a=e.getUint16(i);if(18761===a)n=!0;else{if(19789!==a)return r;n=!1}for(var o=i+e.getUint32(i+4,n),s=e.getUint16(o,n),d=0;d<s;d++){var c=o+12*d+2,h=e.getUint16(c,n);274===h&&(r.orientation=e.getUint16(c+8,n)),34665===h&&l(e,i,u(e,c,n),n,r)}return r}function s(e,t,r){return r.height=e.getUint16(t),r.width=e.getUint16(t+2),r}function l(e,t,r,i,n){var a=c(e,t+r,i),o=void 0;return 37500 in a&&(o=a[37500],d(e,t+e.getUint32(o+8),n)),n}function d(e,t,r){for(var i="",n=0;n<9;n++)i+=String.fromCharCode(e.getUint8(t+n));if("Apple iOS"!==i)return r;var a=18761===e.getUint16(t+9+3),o=c(e,t+9+3+2,a);return 27 in o&&(r.photosRenderEffect=u(e,o[27],a)),r}function c(e,t,r){for(var i=e.getUint16(t,r),n=t+2,a={},o=0;o<i;o++){var s=n+12*o;a[e.getUint16(s,r)]=s}return a}function u(e,t,r){var i=e.getUint16(t+2,r),n=e.getUint32(t+4,r),a=e.getUint32(t+8,r),o=[];switch(i){case 3:if(1===n)return e.getUint16(t+8,r);if(2===n)return[e.getUint16(t+8,r),e.getUint16(t+10,r)];for(var s=0;s<n;s++)o[s]=e.getUint16(a+4*s,r);return o;case 4:if(1===n)return a;for(var l=0;l<n;l++)o[l]=e.getUint32(a+4*l,r);return o;case 9:if(1===n)return e.getInt32(t+8,r);for(var d=0;d<n;d++)o[d]=e.getInt32(a+4*d,r);return o;default:return null}}t.a=i},function(e,t,r){"use strict";function i(){for(var e=n()+n();e.length<16;)e+=n();return e.slice(0,16)}function n(){return Math.random().toString(16).substring(2)}t.a=i},function(e,t,r){"use strict";function i(e,t){var r=e,i=r._computedStyle;i||(i=r._computedStyle=document.defaultView.getComputedStyle(e,null));var a=i.getPropertyValue(t);return!a&&n.get(t)&&(a=n.get(t)(i)||a),a}t.a=i;var n=function(){var e=new Map;return e.set("font",(function(e){for(var t="",r=0,i=a.length;r<i;r++){var n=a[r],o=e.getPropertyValue("font-"+n);if(o&&(t&&(t+=" "),t+=o,"size"===n)){var s=e.getPropertyValue("line-height");s&&(t+="/"+s)}}return t})),e}(),a=["style","variant","weight","size","family"]},function(e,t,r){"use strict";function i(e,t,r,i,n,a,o){var s=void 0;if("string"==typeof e){var l=e;"fit"===l&&(s=!1),"cover"===l&&(s=!0)}else s=!!e;var d=arguments.length;6!==d&&(o=d-1);var c=void 0,u=void 0,h=void 0,p=void 0,f=void 0;if(2===o||3===o){var m=t,y=r;u=m.height,c=m.width,p=y.height,h=y.width,f=i}else c=t,u=r,h=i,p=n,f=a;var v=c/u,g=h/p,_=s?v<g:v>g;return f=f||{},f.width=_?h:p*v,f.height=_?h/v:p,f}function n(e,t,r,n,a){return i(!1,e,t,r,n,a,arguments.length)}t.a=n},function(e,t,r){"use strict";t.a="current"},function(e,t,r){"use strict";t.a="Mcurrent"},function(e,t,r){"use strict";t.a="1.5.6"}])}))},"5c9a":function(e,t,r){e.exports={noSelect:"_2T8hTCY6L8O3CXyvrOv0",grid:"MinDcfb4f-V0pUnHFtPx",tableContainer:"_AR6XKllyM5xCp9KsX69",animated:"_1x5g-6hsyta5ut_dpf5S",paused:"_38TwFfu1y08n-Y_qBrV5",running:"_1KTgGa-ViBmFXSrLhqJM",show:"AlGy_fjMLOO6FjC6I5OL",showDataVA9C2E014:"_19Ge7AORYvhHdxgZ04wW",hide:"qVFcv1HRGcMZ_PkJ2IRJ",hideDataVA9C2E014:"_3xeMqTlerR5buDSLGE8G",noAnimated:"VLk8vBRlSwjDSvizbV7Z",slideInUp:"GcKoV82ufSHpG1hlEpYf",slideInUpDataVA9C2E014:"HgTVyZMMgL1HTjJIDAlf",hljsComment:"_1nTUVICjSQ1IlZlyxRVo",hljsQuote:"_2ZFGUgHPmfdLVe6mie48",hljsVariable:"qmFz7iRR4xPSBvSizIJl",hljsTemplateVariable:"_21m7c2bHvXiQLrDvL2kI",hljsTag:"uzBTEM4OAnGRei8dTUaq",hljsName:"_2zgHTWsRQ9PIRZoIpvX7",hljsSelectorId:"_1nZOGKEYdkUA7DOdjNmC",hljsSelectorClass:"_1qMaxF93rNNZh-2fCNue",hljsRegexp:"_2sUb9vopISzg-iJyHW-i",hljsDeletion:"_2F30fbGTHDhmLpX0ZzRZ",hljsNumber:"_2Mt_bfArnkZyBtNNQdqd",hljsBuiltIn:"_3En7qHlfKti_tpCmQURp",hljsBuiltinName:"_20ncCMYaB3Bx01aBYJAB",hljsLiteral:"_1m_5z9rCRbFyb_O3KmVY",hljsType:"_2VWbUt09z935R8UDhaY6",hljsParams:"_1x6rEFF9UDVa9f8WA2mu",hljsMeta:"_3NBONv4pBlA2eGJylyJu",hljsLink:"ekCXwiUWNdogrNPxJe_U",hljsAttribute:"_2vnjHAT2i4_gHKFBJ60L",hljsString:"_1bpPNTuqYb5Wv0og62qO",hljsSymbol:"_2ytqPMS0mHCxQlerfrz1",hljsBullet:"_2I294qY91oVmorkyOEHk",hljsAddition:"_1d7s1ouTa8fyAi2meBrq",hljsTitle:"_1VaOQOirgSMBerns-TiK",hljsSection:"yJkc0NeY9P_qj9OQ0A4t",hljsKeyword:"l8xuLrCisdM5PCB4SMsa",hljsSelectorTag:"-l8tQxim6EhsNPhugvJw",hljs:"_2GBS740QAHzOB0cvrZ0w",hljsEmphasis:"_1hhZxJTlVYwNDJn-XYJj",hljsStrong:"_2RIVHZMONvoOmWzo5Bl1",diff:"_1WL_7ktkGlnIyspi6_Zm",hljsHeader:"_1ujKXgagwV8HkB11K5Jv",hljsJavadoc:"_29jU90H1CZ2lrQVqi_Mn",css:"gOWlDXa9YzR_vqdMgufp",rule:"_2qgnZlO29pvNWLuHwJLA",hljsWinutils:"_1BKW4N97aidJcFrRaihJ",nginx:"kMI3O3n6ZM1dWAm3ZsGM",hljsSubst:"_1AO-oS9_pelNMS9zKfZs",hljsRequest:"_1AbCinCtXwxRFlM8yYTV",hljsStatus:"_31nk8Fo2HqE9OJ2JLanV",hljsId:"_1FNwBz_Eolj9gO5TH5Yd",scss:"_1A6TpIeg_bxHjh2Y15hc",hljsPreprocessor:"_3TAaSfb9dcUs5ZyQL6bA",hljsClass:"eSEfroxDvU8JrsPIhAW1",vhdl:"_7XkClNxZF6FU7wA-H3Qi",tex:"UcdGJ8bWk_XMt2wbDTyn",hljsCommand:"_3CHhjJecZwGgOSUF-FYp",hljsPragma:"_2Jy5XWBrrZLX5F1i2kVC",hljsPi:"_2uYXe5DF8lQxeTvne6yH",hljsDoctype:"_2zHxpl6P-zrnSkxrYcOR",hljsShebang:"_2fcJjI7Dvf9075kopPkX",hljsCdata:"_1z-4Gunppoo2mR9B8PWw",comment:"_7Za5ASV8lvDbMPBzmo6H",commentBody:"_3Y9xGh-O0TTLTjtWdl1U",commentBodyAvatar:"eSg6qDhqwOMpB1mpcoTd",commentBodyInfo:"_3XR4zF7Sr5HA2sCbPJRC",commentBodyInfoAuthor:"_2MWZZ73BtOPfgQD6lTul",commentBodyInfoAuthorSiteManager:"DmdYQ_yEELNXe13SWHMq",commentBodyInfoContent:"_3fsrlR7U2IsWysUrmwtL",commentBodyInfoMeta:"daKIejt8jjxtzBYV05I-",commentBodyInfoMetaTime:"_3edyPo3DYxp9WJf2FdgU",commentBodyInfoMetaSeparate:"_2-OZKuL7SQbx-S5KOEq8",commentBodyInfoMetaAwesome:"_2kPBIsmTJeH-PpZHIUp1",commentBodyInfoMetaAwesomed:"sKgJyysANpkheXoZ9d6H",commentBodyInfoMetaReply:"_2XZ3i_oA9PucnbjHju53",commentChildren:"_2UxqwISqwsw-CQJn8Ga_",onlyPhone:"_3McgRT7uxrMDJHU-nMfN",onlyComputer:"_1l0QutAbMjvf6bujE2NS",postCardInfoShowDataVA9C2E014:"_1JJo0tc1_loQ1gEj4EpN",postCardInfoMoveDataVA9C2E014:"_39OgONN6RHU8C0VSotOX",loadingDataVA9C2E014:"Nf2ARbvdaSdJ8THnJg-U"}},8115:function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{class:e.$style.commentDom},[r("div",{class:e.$style.commentDomTitle},[e._v("评论 ("+e._s(e.comment.len)+")")]),r("div",{class:e.$style.commentDomForm,attrs:{id:"CommentForm"}},[r("div",{class:[e.$style.commentDomFormAvatar,e.$style.commentDomFormLeft],style:{backgroundImage:"url("+e.profileAvatar+")"}}),r("div",{class:e.$style.commentDomFormRight},[r("div",{class:e.$style.commentDomFormInputs},[r("div",{class:e.$style.commentDomFormInputsTextarea},[r("div",{class:e.$style.commentDomFormInputsTextareaDom},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reply.content,expression:"reply.content"}],ref:"commentInput",style:{height:e.height},attrs:{placeholder:"Leave a comment..."},domProps:{value:e.reply.content},on:{input:function(t){t.target.composing||e.$set(e.reply,"content",t.target.value)}}})]),r("nav",{class:e.$style.emoji},[r("div",{class:e.$style.emojiLogo,on:{click:function(t){return e.emojiDomState(t)}}},[r("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M8 2H16C19.3137 2 22 4.68629 22 8V16C22 19.3137 19.3137 22 16 22H8C4.68629 22 2 19.3137 2 16V8C2 4.68629 4.68629 2 8 2Z",fill:"rgba(0, 0, 0, 0.32)"}}),r("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 8C4 5.79086 5.79086 4 8 4H16C18.2091 4 20 5.79086 20 8V16C20 18.2091 18.2091 20 16 20H8C5.79086 20 4 18.2091 4 16V8ZM10 10.5C10 11.3284 9.32843 12 8.5 12C7.67157 12 7 11.3284 7 10.5C7 9.67157 7.67157 9 8.5 9C9.32843 9 10 9.67157 10 10.5ZM15.5 12C16.3284 12 17 11.3284 17 10.5C17 9.67157 16.3284 9 15.5 9C14.6716 9 14 9.67157 14 10.5C14 11.3284 14.6716 12 15.5 12ZM15.8891 15.8891C13.7412 18.037 10.2588 18.037 8.11091 15.8891C7.72039 15.4986 7.72039 14.8654 8.11091 14.4749C8.50144 14.0843 9.1346 14.0843 9.52513 14.4749C10.892 15.8417 13.108 15.8417 14.4749 14.4749C14.8654 14.0843 15.4986 14.0843 15.8891 14.4749C16.2796 14.8654 16.2796 15.4986 15.8891 15.8891Z",fill:"white"}})])])])]),r("div",{class:e.$style.commentDomFormInputsButtonDom},[r("button",{class:e.$style.commentDomFormInputsButtonDomC,attrs:{disabled:!e.reply.content},on:{click:e.sendComment}},[r("div",[e._v("发送")])]),r("button",{class:e.$style.commentDomFormInputsButtonDomP,attrs:{disabled:!e.reply.content},on:{click:e.sendComment}},[r("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{fill:e.reply.content?"#ffb6c1":"rgba(0, 0, 0, 0.32)","fill-rule":"evenodd","clip-rule":"evenodd",d:"M3 13.5H8C8.82843 13.5 9.5 12.8284 9.5 12C9.5 11.1716 8.82843 10.5 8 10.5H3L3 3.69458C3 3.1423 3.44772 2.69458 4 2.69458C4.16229 2.69458 4.32214 2.73408 4.46575 2.80966L20.3187 11.1533C20.8074 11.4105 20.9951 12.0152 20.7378 12.504C20.6437 12.6828 20.4975 12.829 20.3187 12.9231L4.46575 21.2668C3.97702 21.524 3.37231 21.3363 3.11508 20.8476C3.0395 20.704 3 20.5441 3 20.3819L3 13.5Z"}})])])])])])]),r("div",{class:e.$style.commentDomList,attrs:{id:"CommentList"}},e._l(e.comment.data,(function(t,i){return r("Comment",{key:i,ref:"commentList",refInFor:!0,attrs:{comment:t},on:{replyComment:e.replyComment}})})),1)]),r("transition",{attrs:{name:"popup"}},[e.emoji.domShow?r("div",{class:e.$style.emojiContainer,on:{click:function(t){return e.emojiDomState(t)}}},[r("div",{ref:"emojiDom",class:e.$style.emojiContainerContent,on:{click:function(e){e.stopPropagation()}}},[r("div",{class:e.$style.emojiContainerContentTitleContainer},[r("div",{class:e.$style.emojiContainerContentTitle},[r("div",{class:e.$style.emojiContainerContentTitleClose,on:{click:function(t){return e.emojiDomState(t)}}},[r("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24"}},[r("path",{attrs:{fill:"#d6d6d6",d:"M14.8284 12L19.4142 16.5858C20.1953 17.3668 20.1953 18.6332 19.4142 19.4142C18.6332 20.1953 17.3668 20.1953 16.5858 19.4142L12 14.8284L7.41421 19.4142C6.63317 20.1953 5.36684 20.1953 4.58579 19.4142C3.80474 18.6332 3.80474 17.3668 4.58579 16.5858L9.17157 12L4.58579 7.41421C3.80474 6.63317 3.80474 5.36684 4.58579 4.58579C5.36684 3.80474 6.63317 3.80474 7.41421 4.58579L12 9.17157L16.5858 4.58579C17.3668 3.80474 18.6332 3.80474 19.4142 4.58579C20.1953 5.36684 20.1953 6.63317 19.4142 7.41421L14.8284 12Z"}})])])])]),r("div",{class:e.$style.emojiContainerContentBody},[r("div",{class:e.$style.emojiContainerContentBodyInside},[r("div",{class:e.$style.emojiContainerContentBodyInsidePanel},[r("div",{class:e.$style.emojiContainerContentBodyInsidePanelSwitcher,style:{width:e.emoji.domPanelMenuWidth}},[r("div",{class:e.$style.emojiContainerContentBodyInsidePanelSwitcherKnobHighlight,style:{width:e.emoji.domPanelMenuItemWidth,left:e.emoji.domPanelMenuItemActiveLeft}}),e._l(e.emoji.packages,(function(t,i){var n;return r("div",{key:t,class:[e.$style.emojiContainerContentBodyInsidePanelSwitcherKnob,(n={},n[e.$style.emojiContainerContentBodyInsidePanelSwitcherKnobActive]=i===e.emoji.nowShow,n)],style:{width:e.emoji.domPanelMenuItemWidth},on:{click:function(t){e.emoji.nowShow=i}}},[e._v(" "+e._s(t)+" ")])}))],2),r("transition-group",{attrs:{name:"fade",tag:"div"}},e._l(e.emoji.packages,(function(t,i){return r("ul",{directives:[{name:"show",rawName:"v-show",value:i===e.emoji.nowShow,expression:"index2 === emoji.nowShow"}],key:t,class:e.$style.emojiContainerContentBodyInsidePanelSelection},e._l(e.emoji.odata[t].container,(function(t,i){return r("li",{key:i},[r("button",{class:e.$style.emojiMartEmoji,on:{click:function(r){return e.emojiItemClick(t.icon)}}},[r("span",[e._v(" "+e._s(t.icon)+" ")])])])})),0)})),0)],1)])])])]):e._e()]),r("transition",{attrs:{name:"popup"}},[e.profile.domShow?r("div",{class:e.$style.profileContainer,on:{click:function(t){return e.profileDomState(!1)}}},[r("div",{staticClass:"bottom-popup",class:e.$style.profileContainerContent,on:{click:function(e){e.stopPropagation()}}},[r("div",{class:e.$style.profileContainerContentTitleContainer},[r("div",{class:e.$style.profileContainerContentTitle},[r("span",{class:e.$style.profileContainerContentTitleSpan},[e._v("完善个人信息")]),r("div",{class:e.$style.profileContainerContentTitleClose,on:{click:function(t){return e.profileDomState(!1)}}},[r("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24"}},[r("path",{attrs:{fill:"#d6d6d6",d:"M14.8284 12L19.4142 16.5858C20.1953 17.3668 20.1953 18.6332 19.4142 19.4142C18.6332 20.1953 17.3668 20.1953 16.5858 19.4142L12 14.8284L7.41421 19.4142C6.63317 20.1953 5.36684 20.1953 4.58579 19.4142C3.80474 18.6332 3.80474 17.3668 4.58579 16.5858L9.17157 12L4.58579 7.41421C3.80474 6.63317 3.80474 5.36684 4.58579 4.58579C5.36684 3.80474 6.63317 3.80474 7.41421 4.58579L12 9.17157L16.5858 4.58579C17.3668 3.80474 18.6332 3.80474 19.4142 4.58579C20.1953 5.36684 20.1953 6.63317 19.4142 7.41421L14.8284 12Z"}})])])])]),r("div",{class:e.$style.profileContainerContentBody},[r("div",{class:e.$style.profileContainerContentBodyInside},[r("div",{class:e.$style.profileContainerContentBodyInsidePanel},[r("div",{class:e.$style.profileContainerContentBodyInsidePanelContent},[r("div",{class:e.$style.profileContainerContentBodyInsidePanelContentInput},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.name,expression:"profile.name"}],attrs:{type:"text",placeholder:"称呼 *"},domProps:{value:e.profile.name},on:{input:function(t){t.target.composing||e.$set(e.profile,"name",t.target.value)}}})]),r("div",{class:e.$style.profileContainerContentBodyInsidePanelContentInput},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.email,expression:"profile.email "}],attrs:{type:"email",placeholder:"电子邮件 *"},domProps:{value:e.profile.email},on:{input:function(t){t.target.composing||e.$set(e.profile,"email",t.target.value)}}})]),r("div",{class:e.$style.profileContainerContentBodyInsidePanelContentInput},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.profile.url,expression:"profile.url"}],attrs:{type:"url",placeholder:"网站"},domProps:{value:e.profile.url},on:{input:function(t){t.target.composing||e.$set(e.profile,"url",t.target.value)}}})]),r("button",{class:e.$style.profileContainerContentBodyInsidePanelContentButton,on:{click:e.saveProfile}},[r("div",[e._v("保存 (｡･ω･｡) ♡")])])])])])])])]):e._e()])],1)},n=[],a=r("5530"),o=(r("4160"),r("c975"),r("fb6a"),r("b0c0"),r("b64b"),r("159b"),r("96cf"),r("1da1")),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return"approved"===e.comment.status?r("div",{class:[e.$style.comment]},[r("div",{class:e.$style.commentBody},[r("div",{class:e.$style.commentBodyAvatar,style:{backgroundImage:"url("+e.profileAvatar(e.comment.email)+")"}}),r("div",{class:e.$style.commentBodyInfo},[r("div",{class:e.$style.commentBodyInfoAuthor},[e._v(e._s(e.comment.author)+" "),e.comment.author===this.author?r("span",{class:e.$style.commentBodyInfoAuthorSiteManager},[e._v("作者")]):e._e()]),r("div",{class:e.$style.commentBodyInfoContent},[e._v(e._s(e.comment.content))]),r("div",{class:e.$style.commentBodyInfoMeta},[r("div",{class:e.$style.commentBodyInfoMetaTime,attrs:{title:e.comment.time}},[e._v(e._s(e.transformDate))]),r("div",{class:e.$style.commentBodyInfoMetaSeparate},[e._v(" ・ ")]),r("div",{class:e.$style.commentBodyInfoMetaReply,on:{click:function(t){"回信"==e.reply.buttonContent?e.replyDom(e.comment.commentId,t):e.cancelReplyDom(t)}}},[e._v(e._s(e.reply.buttonContent))])])])]),e.comment.children.length?r("div",{class:e.$style.commentChildren},e._l(e.comment.children,(function(t,i){return r("Comment",{key:i,ref:"commentList",refInFor:!0,attrs:{comment:t},on:{replyComment:e.replyComment}})})),1):e._e()]):e._e()},l=[],d={name:"Comment",props:{comment:{type:Object}},data:function(){return{reply:{buttonContent:"回信",commentId:""}}},computed:{transformDate:function(){var e=new Date(this.comment.time);return e.getFullYear()+"-"+(e.getMonth()<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())},author:function(){return this.$store.state.global.hexoConfig.site.author}},created:function(){this.$on("broadcastCancelReply",(function(){this.cancelReplyDom()}))},methods:{replyDom:function(e,t){this.reply.commentId=e,this.reply.buttonContent="取消回信";var r=t.target.parentNode.parentNode.parentNode;r.after(document.getElementById("CommentForm")),this.$emit("replyComment",e)},cancelReplyDom:function(e){this.reply.commentId="",this.reply.buttonContent="回信",document.getElementById("CommentList").before(document.getElementById("CommentForm")),this.$emit("replyComment","")},replyComment:function(e){this.$emit("replyComment",e)},profileAvatar:function(e){return"https://gravatar.aim.moe/avatar/"+this.$crypto.createHash("md5").update(e).digest("hex")+"?s=500"}}},c=Object(a["a"])({},d),u=c,h=r("d2fd"),p=r("2877");function f(e){this["$style"]=h["default"].locals||h["default"]}var m=Object(p["a"])(u,s,l,!1,f,"a9c2e014",null),y=m.exports,v={name:"Comments",components:{Comment:y},props:{slug:{type:String,required:!1},url:{type:String,required:!1},title:{type:String,required:!1},language:{type:String,required:!1}},data:function(){return{height:"40px",notification:{domShow:!1,visible:!1,msg:"",type:""},reply:{parentId:null,content:""},profile:{domShow:!1,name:"",url:"",email:""},emoji:{domShow:!1,domPanelMenuWidth:"244px",domPanelMenuItemWidth:"50%",domPanelMenuItemActiveLeft:"0",packages:[],odata:null,nowShow:0},commentPage:1,comment:{data:[],page:1,len:0}}},created:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return localStorage.getItem("COMMENT_PROFILE")&&(t=JSON.parse(localStorage.getItem("COMMENT_PROFILE")),this.profile.name=t.name,this.profile.email=t.email,this.profile.url=t.url||""),e.next=3,this.getOwO();case 3:return e.next=5,this.getComments();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$nextTick(this.resize);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),computed:{articleId:function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=["(/ω＼)","٩(˃̶͈̀௰˂̶͈́)و","(^ω^)","(´▽｀)","⁄(⁄⁄⁄ω⁄⁄⁄)⁄","o(^▽^)o"];e=null===e?Math.round(Math.random()*t.length):e<0?Math.ceil(e):Math.floor(e);var r=Math.abs(e)%t.length;return t[r]},t=-1==this.$store.state.global.hexoConfig.url.url.indexOf("/")?this.$store.state.global.hexoConfig.url.url:this.$store.state.global.hexoConfig.url.url+"/";return this.$crypto.createHash("md5").update("TERITERI|"+(t+this.slug+this.title)+"|"+e((t+this.slug+this.title).length)).digest("hex").substring(4,29)},profileAvatar:function(){return"https://gravatar.aim.moe/avatar/"+this.$crypto.createHash("md5").update(this.profile.email).digest("hex")+"?s=500"}},watch:{"reply.content":function(){this.$nextTick(this.resize)},"emoji.nowShow":function(e){this.emoji.domPanelMenuItemActiveLeft=e*(100/this.emoji.packages.length)+"%"},"comment.data":function(e){var t=0,r=function e(r){for(var i in r){var n=r[i];t++,n.children&&e(n.children)}};r(e),this.comment.len=t,this.$emit("setCommentLen",t)}},methods:{resize:function(){var e=this;this.height="40px",this.$nextTick((function(){var t=e.$refs.commentInput.scrollHeight+1;e.height=t+"px"}))},getOwO:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.get("https://static.misaka.xin/Blog/OwO.json");case 2:this.emoji.odata=e.sent.data,this.emoji.packages=Object.keys(this.emoji.odata),this.emoji.domPanelWidth=122*this.emoji.packages.length+"px",this.emoji.domPanelMenuItemWidth=100/this.emoji.packages.length+"%";case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getComments:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r,i,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1,r=n.length>1&&void 0!==n[1]?n[1]:1e3,e.prev=2,e.next=5,this.$axios.get("https://comments.aim.moe/comments",{params:{page:t,pageSize:r,articleId:this.articleId}});case 5:i=e.sent,i=i.data,"success"===i.status?this.comment.data=i.data:console.log(i),e.next=25;break;case 10:return e.prev=10,e.t0=e["catch"](2),e.next=14,this.$axios.get("https://comments.aim.moe/articles",{params:{title:this.title,articleId:this.articleId,url:(-1==this.$store.state.global.hexoConfig.url.url.indexOf("/")?this.$store.state.global.hexoConfig.url.url:this.$store.state.global.hexoConfig.url.url+"/")+this.slug}});case 14:return e.prev=14,e.next=17,this.$axios.get("https://comments.aim.moe/comments",{params:{page:t,pageSize:r,articleId:this.articleId}});case 17:i=e.sent,i=i.data,"success"===i.status?this.comment.data=i.data:console.log(i),e.next=25;break;case 22:e.prev=22,e.t1=e["catch"](14),console.log(e.t1);case 25:case"end":return e.stop()}}),e,this,[[2,10],[14,22]])})));function t(){return e.apply(this,arguments)}return t}(),sendComment:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.profile.name&&this.profile.email){e.next=4;break}return this.profileDomState(!0),this.$notification({type:"error",msg:"emmmm...发现没有你的信息填写一下啦～"}),e.abrupt("return");case 4:return this.$notification({type:"info",msg:"正在尝试与评论服务器进行通讯 QAQ"}),e.prev=5,e.next=8,this.$axios.post("https://comments.aim.moe/comments",{articleId:this.articleId,author:this.profile.name,email:this.profile.email,url:this.profile.url||null,content:this.reply.content,replyTo:this.reply.parentId});case 8:t=e.sent,t=t.data,"success"===t.status?(this.$notification({type:"success",msg:"添加成功的说..."}),this.comment.data=t.data.comments,this.reply.content="",this.reply.parentId&&this.$refs.commentList.forEach((function(e){e.$emit("broadcastCancelReply")}))):console.log(t),e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](5),this.$notification({type:"error",msg:"啊啦...出错了请联系管理员解决..."}),console.log(e.t0);case 17:case"end":return e.stop()}}),e,this,[[5,13]])})));function t(){return e.apply(this,arguments)}return t}(),saveProfile:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.profile.name&&this.profile.email){e.next=3;break}return this.$notification({type:"error",msg:"喂！你还没填完整！！"}),e.abrupt("return");case 3:return t={name:this.profile.name,email:this.profile.email,url:this.profile.url},localStorage.setItem("COMMENT_PROFILE",JSON.stringify(t)),this.profileDomState(!1),this.$notification({type:"success",msg:"保存成功啦 ヾ(*´∀｀*)ﾉ"}),e.next=9,this.sendComment();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),replyComment:function(e){this.reply.parentId=e},emojiDomState:function(e){1==this.emoji.domShow?(document.querySelector("body").style.setProperty("overflow",""),this.emoji.domShow=!1):(document.querySelector("body").style.setProperty("overflow","hidden"),this.emoji.domShow=!0)},emojiItemClick:function(e){var t=this.$refs.commentInput,r=t.selectionEnd,i=t.value;this.reply.content=i.slice(0,r)+e+i.slice(r),this.emojiDomState()},profileDomState:function(e){1==e?(document.querySelector("body").style.setProperty("overflow","hidden"),this.profile.domShow=!0):(document.querySelector("body").style.setProperty("overflow",""),this.profile.domShow=!1)}}},g=Object(a["a"])({},v),_=g,b=(r("9e9a"),r("4c7f"));function P(e){this["$style"]=b["default"].locals||b["default"]}var C=Object(p["a"])(_,i,n,!1,P,"215a7e3b",null);t["a"]=C.exports},"9a57":function(e,t,r){"use strict";var i=r("1154"),n=r.n(i);t["default"]=n.a},"9e9a":function(e,t,r){"use strict";var i=r("2dbc"),n=r.n(i);n.a},b66c:function(e,t,r){"use strict";var i=r("e4cd"),n=r.n(i);n.a},cdee:function(e,t,r){e.exports={noSelect:"jNdkK7TbvPd8ZaXoZ3-N",grid:"_1eIzUFDIpEbwGg4xiWCI",tableContainer:"LNxIjzACiwoWENUZNR96",animated:"_1NfiFkw_ExI2VLLdpYyg",paused:"_2_U3FttJ2gKRlLJ2v0zC",running:"_1EzyMvD7i_vplQPW1mM9",show:"Iv3CHiDINILAZT_Mz3Zz",showDataV215A7E3B:"_3rYW8uNQ9BPmqL3r_54i",hide:"_1ZsAm9WlLSMtEwY7-XE_",hideDataV215A7E3B:"_1IY-FJXOQcmhe4Hycjvp",noAnimated:"_23YJTPykddLa2EhhoweJ",slideInUp:"_3HkTGnYYHCpZvDcdZdAD",slideInUpDataV215A7E3B:"Nu1_r-N8noJCrotM0v4Y",hljsComment:"_1DpIXxOrcg56A3R8XDrV",hljsQuote:"_1RJbN_5u82nUClKa8tHj",hljsVariable:"_2b0ZXn0P6eJSMj5KfX2L",hljsTemplateVariable:"_3FEtKr8EnNfxXf_WyemB",hljsTag:"_3siqMN3NEq4U1HKQHVbd",hljsName:"_1p0aZ23GScXy8HBAnENg",hljsSelectorId:"_14UhcZjNvN0jVdVTHxiM",hljsSelectorClass:"_3-cP0b-N7ztDM5DDD-RD",hljsRegexp:"_1xmeaDjsFxvD0qp_Fo4c",hljsDeletion:"_37wtpg8VhkIKxtrQ0ecq",hljsNumber:"_21u4mcZ10y9b-H13fhca",hljsBuiltIn:"eAdGrPs7JZv7XjhtGFnL",hljsBuiltinName:"_1FWAfg9E9sH_5V5tjwQa",hljsLiteral:"_1KC_20y-Hq-aGPWhPsaK",hljsType:"_2dcLEJKOeg3x0pbRthW-",hljsParams:"mZgf036eN3bRpZrAUBCL",hljsMeta:"AqEWB5dFtk95LkuSuXzB",hljsLink:"_1QT9qD84KybqnkRXzddo",hljsAttribute:"a38fpU7D5Diey98AJM6c",hljsString:"_14894Yz3MS1caaOF72fj",hljsSymbol:"_1I5-Wfu35n72KdvRd286",hljsBullet:"qeRgoTCRjaR7RGy-JHSx",hljsAddition:"_3MMrB2pgzdT_QcWWLKnf",hljsTitle:"_2ATwgbSwvXywMD2HsiT_",hljsSection:"_3wI3uj0UAZ5MJb110TfV",hljsKeyword:"_1vuZ6BJo4qCn_K1YG3R7",hljsSelectorTag:"_391_-wvhXJnpHMu60jeb",hljs:"_3bZY_nGV8RjnpDpI5e_1",hljsEmphasis:"_3UxZ5YewrwoTAZbnX-93",hljsStrong:"_1zEjEHV3RfwVdBKsa9QA",diff:"wOIV3HlzM20kT1Ne-Y69",hljsHeader:"_1LUksSmJohVIm8BR-AnT",hljsJavadoc:"_12bWhXUDDHDt7Y_6q21u",css:"_1p7mbI4UqG-4EBwRaUDH",rule:"dvJpWmrJ3AzvFVyRpbi-",hljsWinutils:"_3oej7MTr6kMpzTLR8C91",nginx:"_317LMGAUxgLHTMGxFSGC",hljsSubst:"BMRfqBARxDI6zfOeWkK_",hljsRequest:"_3-BTKPhOl8ET0oVU4gUW",hljsStatus:"iEKvTz2TVkUcL_krH9ax",hljsId:"R74xsdR_EuFXMuY0Ob32",scss:"_110-OrRO_7HvZJuUXkhF",hljsPreprocessor:"GHC3RrsGuGY8TiZOljCi",hljsClass:"_1GooVxW-zjVjuddntX29",vhdl:"_3fB-gDNlwVWDxLPVzJnC",tex:"_1ZWshDAsl5eolHmF_2il",hljsCommand:"ZGVXhBx3WKg1VoMULWZX",hljsPragma:"_2S1u5_XRcCeVEx522K8f",hljsPi:"V6kyuH40g7OsyKPNsY4h",hljsDoctype:"_1p6MrxjPSx-CfA6w27X",hljsShebang:"_1y8HGRfCNJyFMpLW4vHD",hljsCdata:"_1gnPZYX0vVxWpVDQjz2p",commentDom:"_2HmZivpBC8Del2fnkkXZ",commentDomTitle:"_3VvN2PhN2DWb3mWiP9k4",commentDomForm:"_2zsNSbdXcTfsxUtjAldp",commentDomFormAvatar:"_1MQ78c8985s6Aqr9nuvY",commentDomFormRight:"_2ff7NU5X3jfx0VK8VReT",commentDomFormInputs:"_2dtDjmNx6GLhrlEUfE27",commentDomFormInputsTextarea:"_2p3vuKHGFd9djNM9h3UV",commentDomFormInputsTextareaDom:"Oj5L4voS3LmtD2olKSUt",emoji:"_2n9d0XByW_L81VxQPkO2",emojiLogo:"_1kAcknAcy1KSL4lNThqj",myFaceDataV215A7E3B:"_1Y4dMa1hd9WnO_YKG2mh",commentDomFormInputsButtonDom:"_3DQ_7JI8jLZW-L9_Zkau",commentDomFormInputsButtonDomC:"pj3hwP6c18z5hdk-qe2U",commentDomFormInputsButtonDomP:"bBYJ9rYqk5-u9tdH9Wqy",commentDomFormInputsButtonDomProfileDom:"DvKwXd2752Q-i4vgtDDF",commentDomList:"_1nJLr7-HfNo8KYb_wmLJ",emojiContainer:"_1C-kR49lOHfU61yjSrjh",emojiContainerContent:"_7o0WBgNEX7lPRalFyE5-",emojiContainerContentTitleContainer:"OnPHw-ZQFUEczUMQF5JH",emojiContainerContentTitle:"_2eYAfFWxCMGS2aIQhvMm",emojiContainerContentTitleClose:"kLv1I2fp-Rcb1Cx3mmIJ",emojiContainerContentBody:"Afl6mRttN0T66T6J9O1Z",emojiContainerContentBodyInside:"_3JXdjCEoyS_w_ttSHkAX",emojiContainerContentBodyInsidePanel:"_3DHnLvGCRFQG11ZV7cx8",emojiContainerContentBodyInsidePanelSwitcher:"_3ubgyC1ERhDd2i_JzGYa",emojiContainerContentBodyInsidePanelSwitcherKnobHighlight:"_2EccpqdRgbr0tBYoRG4V",emojiContainerContentBodyInsidePanelSwitcherKnob:"_2MNR8juiI3VHtcc6ZRy6",emojiContainerContentBodyInsidePanelSwitcherKnobActive:"_2EIkJEHINAcsMYcUHDkr",emojiContainerContentBodyInsidePanelSelection:"_3KQ02PTSM5XOxqPPYIiS",emojiMartEmoji:"_1pxV28sQILrbfcqoIkZ3",profileContainer:"_1ukLqYUHaas42vUSkYUM",profileContainerContent:"_2OFKSwA2RJPYvRBE0Qkf",profileContainerContentTitleContainer:"_3VLb1LvUoXP53eFeJQI2",profileContainerContentTitle:"_2quyf2OKPYJ9WvZAXryN",profileContainerContentTitleSpan:"_2jMT0Vjw8810XXobCJxi",profileContainerContentTitleClose:"_2eNOJNs_PM-JziTVeUAR",profileContainerContentBody:"_2EHZUR2EWuxHj1AGrq0q",profileContainerContentBodyInside:"_2kOJmjXOXYcGutQf7qNj",profileContainerContentBodyInsidePanel:"_1CdpLIsAHfXo6-bD0s9Y",profileContainerContentBodyInsidePanelContent:"_1_Pk2EAqmXvNJehH0dmk",profileContainerContentBodyInsidePanelContentInput:"_2_DCP02MjiyzqnvZvnON",profileContainerContentBodyInsidePanelContentButton:"_2X9KTDYM7KRhqxMUMuy5",postCardInfoShowDataV215A7E3B:"_1rpCRe-ucZqYBzkEgXya",postCardInfoMoveDataV215A7E3B:"_2pbH8fn7ErhZmjfMWbt0",loadingDataV215A7E3B:"_1PlmJIpsfDfkJfaoZyx2"}},d2fd:function(e,t,r){"use strict";var i=r("5c9a"),n=r.n(i);t["default"]=n.a},e4cd:function(e,t,r){}}]);