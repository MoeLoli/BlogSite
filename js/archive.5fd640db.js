(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["archive"],{"1cd8":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("fragment",[r("Article",{attrs:{slug:e.target.slug,cover:e.target.cover,subtitle:e.target.subtitle,title:e.target.title,time:e.target.date,updated:e.target.updated,categories:e.target.categories,tags:e.target.tags,content:e.target.content,to:{name:"Post",params:e.$route.params}}}),e.target.comments&&e.themeComments.enabled?r("comments",{attrs:{slug:e.target.slug,title:e.target.title||"Untitled"}}):e._e(),r("photoswipe")],1)},n=[],i=(r("99af"),r("4160"),r("c975"),r("b0c0"),r("ac1f"),r("5319"),r("159b"),r("b85c")),o=(r("96cf"),r("1da1")),c=r("d4ec"),l=r("bee2"),s=r("262e"),u=r("2caf"),h=r("9ab4"),p=r("1b40"),g=r("6011"),m=r("3f08"),f=r("ecb0"),d=r("8115"),v=r("6f2d"),y=(r("d3b7"),r("ddb0"),r("3835")),b=r("53ca"),w=(r("343a"),r("3fb5a"),r("b24f")),x=r.n(w),k=r("14fd"),S=r.n(k),O=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(c["a"])(this,e),this.items=[],void 0!==x.a&&void 0!==S.a?(this.galleryUID=r,e.createGallery(t),this.loadItems(t),this.bindClick()):console.error("PhotoSwipe lib not loaded.")}return Object(l["a"])(e,[{key:"loadItems",value:function(e){this.items=[];var t,r=e.querySelectorAll("figure"),a=Object(i["a"])(r);try{for(a.s();!(t=a.n()).done;){var n=t.value,o=n.querySelector("figcaption"),c=n.querySelector("img"),l={w:parseInt(c.getAttribute("width")),h:parseInt(c.getAttribute("height")),src:c.src,msrc:c.getAttribute("data-thumb")||c.src,el:n};o&&(l.title=o.innerHTML),this.items.push(l)}}catch(s){a.e(s)}finally{a.f()}}},{key:"open",value:function(e){var t=this,r=document.querySelector(".pswp"),a=new x.a(r,S.a,this.items,{index:e,galleryUID:this.galleryUID,getThumbBoundsFn:function(e){var r=t.items[e].el.getElementsByTagName("img")[0],a=window.pageYOffset||document.documentElement.scrollTop,n=r.getBoundingClientRect();return{x:n.left,y:n.top+a,w:n.width}}});a.init()}},{key:"bindClick",value:function(){var e,t=this,r=Object(i["a"])(this.items.entries());try{var a=function(){var r=Object(y["a"])(e.value,2),a=r[0],n=r[1],i=n.el.querySelector("a");if(!i)return{v:void 0};i.addEventListener("click",(function(e){e.preventDefault(),t.open(a)}))};for(r.s();!(e=r.n()).done;){var n=a();if("object"===Object(b["a"])(n))return n.v}}catch(o){r.e(o)}finally{r.f()}}}],[{key:"createGallery",value:function(t){var r,a=t.querySelectorAll("figure"),n=[],o=Object(i["a"])(a);try{for(o.s();!(r=o.n()).done;){var c=r.value;n.length?c.previousElementSibling===n[n.length-1]?n.push(c):n.length&&(e.wrap(n),n=[c]):n=[c]}}catch(l){o.e(l)}finally{o.f()}n.length>0&&e.wrap(n)}},{key:"wrap",value:function(e){var t=document.createElement("div");t.className="gallery";var r=e[0].parentNode,a=e[0];null===r||void 0===r||r.insertBefore(t,a);var n,o=Object(i["a"])(e);try{for(o.s();!(n=o.n()).done;){var c=n.value;t.appendChild(c)}}catch(l){o.e(l)}finally{o.f()}}}]),e}(),j=O,C=function(e){Object(s["a"])(r,e);var t=Object(u["a"])(r);function r(){return Object(c["a"])(this,r),t.apply(this,arguments)}return Object(l["a"])(r,[{key:"fetch",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.store,a=t.route,n=a.matched[0].props.default.isImplicit,i=n?-1===a.path.indexOf("page")?a.path.replace(/^\/\/?/,""):a.path.replace(/^\/page\/?/,""):a.params.slug,e.next=5,r.dispatch("detailable/".concat(g["c"]),{isImplicit:n,sourceOrSlug:i});case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"beforeRouteUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.fetch,!n){e.next=11;break}return e.prev=2,e.next=5,n({store:this.$store,route:t});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](2),console.log(e.t0),a();case 11:a();case 12:case"end":return e.stop()}}),e,this,[[2,7]])})));function t(t,r,a){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){this.gallary()}},{key:"gallary",value:function(){var e=this;if(document.querySelectorAll(".article-content")){document.querySelectorAll(".article-content").forEach((function(t){t.querySelectorAll("img").forEach((function(t){var r=Math.round(t.naturalWidth),a=Math.round(t.naturalHeight);0!==r&&0!==a?(t.setAttribute("width",r),t.setAttribute("height",a),t.parentNode.setAttribute("data-size","".concat(r,"x").concat(a)),t.parentNode.parentNode.style.flexGrow=100*r/a,t.parentNode.parentNode.style.flexBasis=240*r/a+"px"):e.gallary()}))})),new j(document.querySelector(".article-content"));var t,r=Object(i["a"])(document.querySelectorAll(".gallery"));try{for(r.s();!(t=r.n()).done;){var a=t.value;"BR"===a.nextElementSibling.tagName&&a.nextElementSibling.remove()}}catch(n){r.e(n)}finally{r.f()}}}},{key:"hexoConfigSite",get:function(){return this.$store.state.meta.hexoConfig.site}},{key:"hexoConfigUrl",get:function(){return this.$store.state.meta.hexoConfig.url}},{key:"target",get:function(){return this.$store.state.detailable.target}},{key:"themeComments",get:function(){return this.$store.state.meta.themeConfig.comments}}]),r}(p["c"]);C=Object(h["a"])([Object(p["a"])({name:"Archive",components:{Article:f["a"],Fragment:m["a"],comments:d["a"],photoswipe:v["a"]},metaInfo:function(){var e=this.target,t={};t.title=e.title+" - "+this.hexoConfigSite.title||"Hexo - Stack Theme",t.meta=[],t.meta.push({property:"og:title",content:this.target.title+" - "+this.hexoConfigSite.title}),t.meta.push({property:"og:og:site_name",content:"Archives - "+this.hexoConfigSite.title}),t.meta.push({property:"og:locale",content:this.hexoConfigSite.language}),t.meta.push({property:"og:type",content:"article"}),t.meta.push({property:"og:url",content:this.hexoConfigUrl.url+this.$route.fullPath}),t.meta.push({property:"og:description",content:e.excerpt}),e.cover&&t.meta.push({property:"og:image",content:this.target.cover}),t.meta.push({name:"twitter:card",content:"summary_large_image"}),t.meta.push({name:"twitter:title",content:e.title+" - "+this.hexoConfigSite.title}),t.meta.push({name:"twitter:description",content:this.target.excerpt}),e.cover&&t.meta.push({name:"twitter:image",content:this.target.cover});var r=e.tags;t.meta.push({property:"article:section",content:"post"});for(var a=0;a<r.length;a++)t.meta.push({property:"article:tag",content:r[a].name});return e.updated&&t.meta.push({property:"article:published_time",content:this.target.updated}),t}})],C);var A=C,q=A,E=r("2877"),I=Object(E["a"])(q,a,n,!1,null,null,null);t["default"]=I.exports}}]);