(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["single"],{"533f":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("fragment",[r("Article",{attrs:{slug:e.target.slug,cover:e.target.cover,subtitle:e.target.subtitle,title:e.target.title,time:e.target.date,updated:e.target.updated,categories:e.target.categories,tags:e.target.tags,content:e.target.content,to:{name:"Single",params:e.$route.params}}}),e.target.comments&&e.themeComments.enabled?r("comments",{attrs:{slug:e.target.slug,title:e.target.title||"Untitled"}}):e._e(),r("photoswipe")],1)},a=[],i=(r("99af"),r("4160"),r("159b"),r("b85c")),o=(r("96cf"),r("1da1")),c=r("d4ec"),l=r("bee2"),s=r("262e"),u=r("2caf"),h=r("9ab4"),p=r("1b40"),g=r("6011"),m=r("3f08"),f=r("ecb0"),d=r("8115"),v=r("6f2d"),y=(r("d3b7"),r("ddb0"),r("3835")),b=r("53ca"),w=(r("343a"),r("3fb5a"),r("b24f")),x=r.n(w),S=r("14fd"),k=r.n(S),O=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(c["a"])(this,e),this.items=[],void 0!==x.a&&void 0!==k.a?(this.galleryUID=r,e.createGallery(t),this.loadItems(t),this.bindClick()):console.error("PhotoSwipe lib not loaded.")}return Object(l["a"])(e,[{key:"loadItems",value:function(e){this.items=[];var t,r=e.querySelectorAll("figure"),n=Object(i["a"])(r);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=a.querySelector("figcaption"),c=a.querySelector("img"),l={w:parseInt(c.getAttribute("width")),h:parseInt(c.getAttribute("height")),src:c.src,msrc:c.getAttribute("data-thumb")||c.src,el:a};o&&(l.title=o.innerHTML),this.items.push(l)}}catch(s){n.e(s)}finally{n.f()}}},{key:"open",value:function(e){var t=this,r=document.querySelector(".pswp"),n=new x.a(r,k.a,this.items,{index:e,galleryUID:this.galleryUID,getThumbBoundsFn:function(e){var r=t.items[e].el.getElementsByTagName("img")[0],n=window.pageYOffset||document.documentElement.scrollTop,a=r.getBoundingClientRect();return{x:a.left,y:a.top+n,w:a.width}}});n.init()}},{key:"bindClick",value:function(){var e,t=this,r=Object(i["a"])(this.items.entries());try{var n=function(){var r=Object(y["a"])(e.value,2),n=r[0],a=r[1],i=a.el.querySelector("a");if(!i)return{v:void 0};i.addEventListener("click",(function(e){e.preventDefault(),t.open(n)}))};for(r.s();!(e=r.n()).done;){var a=n();if("object"===Object(b["a"])(a))return a.v}}catch(o){r.e(o)}finally{r.f()}}}],[{key:"createGallery",value:function(t){var r,n=t.querySelectorAll("figure"),a=[],o=Object(i["a"])(n);try{for(o.s();!(r=o.n()).done;){var c=r.value;a.length?c.previousElementSibling===a[a.length-1]?a.push(c):a.length&&(e.wrap(a),a=[c]):a=[c]}}catch(l){o.e(l)}finally{o.f()}a.length>0&&e.wrap(a)}},{key:"wrap",value:function(e){var t=document.createElement("div");t.className="gallery";var r=e[0].parentNode,n=e[0];null===r||void 0===r||r.insertBefore(t,n);var a,o=Object(i["a"])(e);try{for(o.s();!(a=o.n()).done;){var c=a.value;t.appendChild(c)}}catch(l){o.e(l)}finally{o.f()}}}]),e}(),j=O,C=function(e){Object(s["a"])(r,e);var t=Object(u["a"])(r);function r(){return Object(c["a"])(this,r),t.apply(this,arguments)}return Object(l["a"])(r,[{key:"fetch",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.store,n=t.route,a=n.matched[0].props.default.isImplicit,i=n.params.slug,e.next=5,r.dispatch("detailable/".concat(g["c"]),{isImplicit:a,sourceOrSlug:i});case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"beforeRouteUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=this.fetch,!a){e.next=11;break}return e.prev=2,e.next=5,a({store:this.$store,route:t});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](2),console.log(e.t0),n();case 11:n();case 12:case"end":return e.stop()}}),e,this,[[2,7]])})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){this.gallary()}},{key:"gallary",value:function(){var e=this;if(document.querySelectorAll(".article-content")){document.querySelectorAll(".article-content").forEach((function(t){t.querySelectorAll("img").forEach((function(t){var r=Math.round(t.naturalWidth),n=Math.round(t.naturalHeight);0!==r&&0!==n?(t.setAttribute("width",r),t.setAttribute("height",n),t.parentNode.setAttribute("data-size","".concat(r,"x").concat(n)),t.parentNode.parentNode.style.flexGrow=100*r/n,t.parentNode.parentNode.style.flexBasis=240*r/n+"px"):e.gallary()}))})),new j(document.querySelector(".article-content"));var t,r=Object(i["a"])(document.querySelectorAll(".gallery"));try{for(r.s();!(t=r.n()).done;){var n=t.value;"BR"===n.nextElementSibling.tagName&&n.nextElementSibling.remove()}}catch(a){r.e(a)}finally{r.f()}}}},{key:"hexoConfigSite",get:function(){return this.$store.state.meta.hexoConfig.site}},{key:"hexoConfigUrl",get:function(){return this.$store.state.meta.hexoConfig.url}},{key:"target",get:function(){return this.$store.state.detailable.target}},{key:"themeComments",get:function(){return this.$store.state.meta.themeConfig.comments}}]),r}(p["c"]);C=Object(h["a"])([Object(p["a"])({name:"Single",components:{Article:f["a"],Fragment:m["a"],comments:d["a"],photoswipe:v["a"]},metaInfo:function(){var e=this.target,t={};return t.title=e.title+" - "+this.hexoConfigSite.title||"Hexo - Stack Theme",t.meta=[],t.meta.push({property:"og:title",content:e.title+" - "+this.hexoConfigSite.title}),t.meta.push({property:"og:og:site_name",content:"Archives - "+this.hexoConfigSite.title}),t.meta.push({property:"og:locale",content:this.hexoConfigSite.language}),t.meta.push({property:"og:type",content:"article"}),t.meta.push({property:"og:url",content:this.hexoConfigUrl.url+this.$route.fullPath}),t.meta.push({property:"og:description",content:e.excerpt}),e.cover&&t.meta.push({property:"og:image",content:e.cover}),t.meta.push({name:"twitter:card",content:"summary_large_image"}),t.meta.push({name:"twitter:title",content:e.title+" - "+this.hexoConfigSite.title}),t.meta.push({name:"twitter:description",content:e.excerpt}),e.cover&&t.meta.push({name:"twitter:image",content:e.cover}),t.meta.push({property:"article:section",content:"page"}),e.date&&t.meta.push({property:"article:article:published_time",content:e.date}),e.updated&&t.meta.push({property:"article:article:published_time",content:e.updated}),t}})],C);var A=C,q=A,E=r("2877"),I=Object(E["a"])(q,n,a,!1,null,null,null);t["default"]=I.exports}}]);